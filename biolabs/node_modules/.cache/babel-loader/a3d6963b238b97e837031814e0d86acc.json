{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, prepend, createElement, extend, EventHandler, closest, addClass } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, setStyleAttribute, remove } from '@syncfusion/ej2-base';\nimport { EventBase } from './event-base';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nvar EVENT_GAP = 0;\n/**\n * Month view events render\n */\nvar MonthEvent = /** @class */function (_super) {\n  __extends(MonthEvent, _super);\n  function MonthEvent(parent) {\n    var _this = _super.call(this, parent) || this;\n    _this.renderedEvents = [];\n    _this.monthHeaderHeight = 0;\n    _this.moreIndicatorHeight = 19;\n    _this.renderType = 'day';\n    _this.element = _this.parent.activeView.getPanel();\n    _this.fields = _this.parent.eventFields;\n    _this.maxHeight = _this.parent.eventSettings.enableMaxHeight && !_this.parent.eventSettings.enableIndicator && !_this.parent.rowAutoHeight;\n    _this.withIndicator = _this.parent.eventSettings.enableMaxHeight && _this.parent.eventSettings.enableIndicator && !_this.parent.rowAutoHeight;\n    _this.maxOrIndicator = _this.maxHeight || _this.withIndicator;\n    _this.moreIndicatorHeight = _this.parent.rowAutoHeight && _this.parent.eventSettings.ignoreWhitespace ? 0 : _this.moreIndicatorHeight;\n    _this.addEventListener();\n    return _this;\n  }\n  MonthEvent.prototype.removeEventWrapper = function (appElement) {\n    if (appElement.length > 0) {\n      appElement = this.parent.currentView === 'Month' || !this.parent.activeView.isTimelineView() && !this.parent.activeViewOptions.timeScale.enable ? appElement : [appElement[0]];\n      for (var _i = 0, appElement_1 = appElement; _i < appElement_1.length; _i++) {\n        var wrap = appElement_1[_i];\n        if (wrap.parentElement && wrap.parentElement.parentNode) {\n          remove(wrap.parentElement);\n        }\n      }\n    }\n  };\n  MonthEvent.prototype.renderAppointments = function () {\n    if (this.parent.dragAndDropModule) {\n      this.parent.dragAndDropModule.setDragArea();\n    }\n    this.isResourceEventTemplate = this.parent.isSpecificResourceEvents();\n    var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    if (this.parent.rowAutoHeight) {\n      this.parent.uiStateValues.top = conWrap.scrollTop;\n      this.parent.uiStateValues.left = conWrap.scrollLeft;\n    }\n    var appointmentWrapper = [].slice.call(this.element.querySelectorAll('.' + cls.APPOINTMENT_WRAPPER_CLASS));\n    if (this.parent.crudModule && this.parent.crudModule.crudObj.isCrudAction) {\n      for (var i = 0, len = this.parent.crudModule.crudObj.sourceEvent.length; i < len; i++) {\n        var appElement = [].slice.call(this.element.querySelectorAll('.e-appointment-wrapper ' + '[data-group-index=\"' + this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex + '\"]'));\n        this.removeEventWrapper(appElement);\n        if (this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)] && this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex !== this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex) {\n          var ele = [].slice.call(this.element.querySelectorAll('.e-appointment-wrapper ' + '[data-group-index=\"' + this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex + '\"]'));\n          this.removeEventWrapper(ele);\n        }\n      }\n    } else {\n      for (var _i = 0, appointmentWrapper_1 = appointmentWrapper; _i < appointmentWrapper_1.length; _i++) {\n        var wrap = appointmentWrapper_1[_i];\n        remove(wrap);\n      }\n    }\n    this.removeHeightProperty(cls.CONTENT_TABLE_CLASS);\n    if (!this.element.querySelector('.' + cls.WORK_CELLS_CLASS)) {\n      return;\n    }\n    if (this.parent.currentView === 'Month') {\n      var wrapper = createElement('div', {\n        className: cls.APPOINTMENT_WRAPPER_CLASS\n      });\n      var cellTd = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n      cellTd.appendChild(wrapper);\n      this.monthHeaderHeight = wrapper.offsetTop - cellTd.offsetTop;\n      cellTd.removeChild(wrapper);\n    }\n    this.eventHeight = util.getElementHeightFromClass(this.element, cls.APPOINTMENT_CLASS);\n    var scrollTop = conWrap.scrollTop;\n    if (this.parent.rowAutoHeight && this.parent.virtualScrollModule && !this.parent.virtualScrollModule.isHorizontalScroll && !isNullOrUndefined(this.parent.currentAction)) {\n      conWrap.scrollTop = conWrap.scrollTop - 1;\n    }\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      this.renderResourceEvents();\n      if (this.parent.virtualScrollModule) {\n        this.parent.virtualScrollModule.updateFocusedWorkCell();\n      }\n    } else {\n      this.renderEventsHandler(this.parent.activeView.renderDates, this.parent.activeViewOptions.workDays);\n    }\n    if (this.parent.rowAutoHeight) {\n      this.updateBlockElements();\n      var data = {\n        cssProperties: this.parent.getCssProperties(),\n        module: this.parent.getModuleName(),\n        isPreventScrollUpdate: true,\n        scrollPosition: {\n          left: this.parent.uiStateValues.left,\n          top: this.parent.uiStateValues.top\n        }\n      };\n      if (this.parent.virtualScrollModule && !this.parent.virtualScrollModule.isHorizontalScroll) {\n        if (this.parent.currentAction) {\n          conWrap.scrollTop = scrollTop;\n          this.parent.currentAction = null;\n        } else {\n          this.parent.virtualScrollModule.updateVirtualScrollHeight();\n        }\n      }\n      if (!this.parent.enablePersistence) {\n        this.parent.notify(events.contentReady, {});\n      }\n      this.parent.notify(events.scrollUiUpdate, data);\n      if (this.parent.currentView === 'Month' && this.parent.showWeekNumber) {\n        var totalCells_1 = [].slice.call(this.parent.element.querySelectorAll('.e-content-wrap table tr td:first-child'));\n        var weekNumberCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WEEK_NUMBER_CLASS));\n        weekNumberCells.forEach(function (cell, i) {\n          var height = totalCells_1[parseInt(i.toString(), 10)].offsetHeight;\n          setStyleAttribute(cell, {\n            'height': height + 'px'\n          });\n        });\n        this.parent.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS).scrollTop = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS).scrollTop;\n      }\n    }\n    this.parent.renderTemplates();\n  };\n  MonthEvent.prototype.renderEventsHandler = function (dateRender, workDays, resData) {\n    this.renderedEvents = [];\n    var eventsList;\n    var blockList;\n    var resIndex = 0;\n    if (resData) {\n      resIndex = resData.groupIndex;\n      this.cssClass = resData.cssClass;\n      this.groupOrder = resData.groupOrder;\n      eventsList = this.parent.eventBase.filterEventsByResource(resData, this.parent.eventsProcessed);\n      blockList = this.parent.eventBase.filterEventsByResource(resData, this.parent.blockProcessed);\n      this.workCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS + '[data-group-index=\"' + resIndex + '\"]'));\n    } else {\n      eventsList = this.parent.eventsProcessed;\n      blockList = this.parent.blockProcessed;\n      this.workCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n    }\n    this.sortByDateTime(eventsList);\n    this.sortByDateTime(blockList);\n    if (this.parent.currentView === 'Month' && this.parent.rowAutoHeight && this.parent.activeViewOptions.group.resources.length === 0) {\n      var totalCells = [].slice.call(this.parent.element.querySelectorAll('.e-content-wrap table tr td:first-child'));\n      var height_1 = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).clientHeight / totalCells.length;\n      totalCells.forEach(function (cell) {\n        setStyleAttribute(cell, {\n          'height': height_1 + 'px'\n        });\n      });\n    }\n    var cellDetail = this.workCells[this.parent.activeView.isTimelineView() ? 0 : this.workCells.length - 1].getBoundingClientRect();\n    this.cellWidth = cellDetail.width;\n    this.cellHeight = cellDetail.height;\n    this.dateRender = dateRender;\n    var filteredDates = this.getRenderedDates(dateRender);\n    this.getSlotDates(workDays || this.parent.activeViewOptions.workDays);\n    this.processBlockEvents(blockList, resIndex, resData);\n    var events = [];\n    for (var _i = 0, eventsList_1 = eventsList; _i < eventsList_1.length; _i++) {\n      var event_1 = eventsList_1[_i];\n      if (this.parent.resourceBase && !resData) {\n        this.cssClass = this.parent.resourceBase.getCssClass(event_1);\n      }\n      events = events.concat(this.splitEvent(event_1, filteredDates || this.dateRender));\n    }\n    for (var level = 0; level < this.slots.length; level++) {\n      this.renderedEvents = [];\n      var slot = this.slots[parseInt(level.toString(), 10)];\n      var endDate = util.addDays(new Date(slot[slot.length - 1]), 1);\n      var spannedEvents = this.filterEvents(new Date(slot[0]), endDate, events);\n      for (var _a = 0, spannedEvents_1 = spannedEvents; _a < spannedEvents_1.length; _a++) {\n        var event_2 = spannedEvents_1[_a];\n        if (this.maxHeight) {\n          var sDate = this.parent.currentView === 'Month' ? event_2[this.fields.startTime] : this.getStartTime(event_2, event_2.data);\n          if (this.getIndex(sDate) > 0) {\n            continue;\n          }\n        }\n        this.updateIndicatorIcon(event_2);\n        this.renderEvents(event_2, resIndex, eventsList);\n      }\n    }\n    this.cssClass = null;\n    this.groupOrder = null;\n  };\n  MonthEvent.prototype.processBlockEvents = function (blockEvents, resIndex, resData) {\n    for (var _i = 0, blockEvents_1 = blockEvents; _i < blockEvents_1.length; _i++) {\n      var event_3 = blockEvents_1[_i];\n      if (this.parent.resourceBase && !resData) {\n        this.cssClass = this.parent.resourceBase.getCssClass(event_3);\n      }\n      var blockSpannedList = [];\n      if (this.renderType === 'day' && !event_3[this.fields.isAllDay]) {\n        var temp = extend({}, event_3, null, true);\n        var isSameDate = this.isSameDate(temp[this.fields.startTime], temp[this.fields.endTime]);\n        temp.isBlockIcon = isSameDate;\n        if (!isSameDate && util.getDateInMs(temp[this.fields.startTime]) > 0) {\n          var e = extend({}, event_3, null, true);\n          e[this.fields.endTime] = util.addDays(util.resetTime(new Date(event_3[this.fields.startTime] + '')), 1);\n          e.isBlockIcon = true;\n          temp[this.fields.startTime] = e[this.fields.endTime];\n          blockSpannedList.push(e);\n        }\n        isSameDate = this.isSameDate(temp[this.fields.startTime], temp[this.fields.endTime]);\n        if (!isSameDate && util.getDateInMs(temp[this.fields.endTime]) > 0) {\n          var e = extend({}, event_3, null, true);\n          e[this.fields.startTime] = util.resetTime(new Date(event_3[this.fields.endTime] + ''));\n          e.isBlockIcon = true;\n          blockSpannedList.push(e);\n          temp[this.fields.endTime] = e[this.fields.startTime];\n        }\n        blockSpannedList.push(temp);\n      } else {\n        blockSpannedList.push(event_3);\n      }\n      for (var _a = 0, blockSpannedList_1 = blockSpannedList; _a < blockSpannedList_1.length; _a++) {\n        var blockEvent = blockSpannedList_1[_a];\n        var spannedEvents = this.splitEvent(blockEvent, this.dateRender);\n        for (var _b = 0, spannedEvents_2 = spannedEvents; _b < spannedEvents_2.length; _b++) {\n          var event_4 = spannedEvents_2[_b];\n          this.renderBlockEvents(event_4, resIndex, !!blockEvent.isBlockIcon);\n        }\n      }\n    }\n  };\n  MonthEvent.prototype.isSameDate = function (start, end) {\n    return new Date(+start).setHours(0, 0, 0, 0) === new Date(+end).setHours(0, 0, 0, 0);\n  };\n  MonthEvent.prototype.renderBlockEvents = function (event, resIndex, isIcon) {\n    var eventData = event.data;\n    var startTime = this.getStartTime(event, eventData);\n    var endTime = this.getEndTime(event, eventData);\n    var day = this.parent.getIndexOfDate(this.dateRender, util.resetTime(new Date(startTime.getTime())));\n    if (day < 0 || startTime > endTime) {\n      return;\n    }\n    var cellTd = this.getCellTd(day);\n    var position = this.getPosition(startTime, endTime, event[this.fields.isAllDay], day);\n    if (!isIcon) {\n      var diffInDays = eventData.count;\n      var appWidth = this.getEventWidth(startTime, endTime, event[this.fields.isAllDay], diffInDays);\n      appWidth = appWidth <= 0 ? this.cellWidth : appWidth;\n      var appLeft = this.parent.enableRtl ? 0 : position;\n      var appRight = this.parent.enableRtl ? position : 0;\n      var appHeight = this.cellHeight - this.monthHeaderHeight;\n      var appTop = this.getRowTop(resIndex);\n      var blockElement = this.createBlockAppointmentElement(event, resIndex, this.isResourceEventTemplate);\n      setStyleAttribute(blockElement, {\n        'width': appWidth + 'px',\n        'height': appHeight + 'px',\n        'left': appLeft + 'px',\n        'right': appRight + 'px',\n        'top': appTop + 'px'\n      });\n      this.renderEventElement(event, blockElement, cellTd);\n    } else {\n      this.renderBlockIndicator(cellTd, position, resIndex);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MonthEvent.prototype.renderBlockIndicator = function (cellTd, position, resIndex) {\n    var blockIndicator = createElement('div', {\n      className: 'e-icons ' + cls.BLOCK_INDICATOR_CLASS\n    });\n    if (isNullOrUndefined(cellTd.querySelector('.' + cls.BLOCK_INDICATOR_CLASS))) {\n      cellTd.appendChild(blockIndicator);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MonthEvent.prototype.getStartTime = function (event, eventData) {\n    return event[this.fields.startTime];\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MonthEvent.prototype.getEndTime = function (event, eventData) {\n    return event[this.fields.endTime];\n  };\n  MonthEvent.prototype.getCellTd = function (day) {\n    return this.workCells[parseInt(day.toString(), 10)];\n  };\n  MonthEvent.prototype.getEventWidth = function (startDate, endDate, isAllDay, count) {\n    return count * this.cellWidth - 1;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MonthEvent.prototype.getPosition = function (startTime, endTime, isAllDay, day) {\n    return 0;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MonthEvent.prototype.getRowTop = function (resIndex) {\n    return 0;\n  };\n  MonthEvent.prototype.updateIndicatorIcon = function (event) {\n    if (this.parent.currentView.indexOf('Timeline') === -1 || this.parent.currentView === 'TimelineMonth' || event[this.fields.isAllDay]) {\n      return;\n    }\n    var cloneData = event.data;\n    var start = this.parent.activeView.getStartHour();\n    var end = this.parent.activeView.getEndHour();\n    var startHour = util.getStartEndHours(event[this.fields.startTime], start, end);\n    var endHour = util.getStartEndHours(event[this.fields.endTime], start, end);\n    var actualStartTime = cloneData[this.fields.startTime];\n    var actualEndTime = cloneData[this.fields.endTime];\n    cloneData.isLeft = cloneData.isLeft || actualStartTime.getTime() < startHour.startHour.getTime();\n    cloneData.isRight = cloneData.isRight || actualEndTime.getTime() > endHour.endHour.getTime();\n    if (util.resetTime(actualStartTime).getTime() !== util.resetTime(actualEndTime).getTime()) {\n      var actualStartHour = startHour.startHour;\n      var actualEndHour = endHour.endHour;\n      var startTime = new Date(util.resetTime(actualStartTime));\n      startTime.setHours(actualEndHour.getHours(), actualEndHour.getMinutes(), actualEndHour.getSeconds());\n      cloneData.isLeft = cloneData.isLeft || actualStartTime.getTime() >= (actualStartHour.getDate() === startHour.endHour.getDate() ? startTime.getTime() : util.addDays(startTime, 1).getTime());\n      if (actualEndTime.getTime() !== util.resetTime(actualEndTime).getTime()) {\n        var endTime = new Date(util.resetTime(actualEndTime));\n        cloneData.isRight = cloneData.isRight || actualEndTime.getTime() <= endTime.setHours(actualStartHour.getHours(), actualStartHour.getMinutes(), actualStartHour.getSeconds());\n      }\n    }\n  };\n  MonthEvent.prototype.renderResourceEvents = function () {\n    var resources = this.parent.uiStateValues.isGroupAdaptive ? [this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]] : this.parent.resourceBase.renderedResources;\n    if (this.parent.crudModule && this.parent.crudModule.crudObj.isCrudAction) {\n      for (var i = 0, len = this.parent.crudModule.crudObj.sourceEvent.length; i < len; i++) {\n        var sourceRes = this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)];\n        this.renderEventsHandler(sourceRes.renderDates, sourceRes.workDays, sourceRes);\n        if (this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex !== this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex) {\n          var target = this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)];\n          this.renderEventsHandler(target.renderDates, target.workDays, target);\n        }\n      }\n      this.parent.crudModule.crudObj.isCrudAction = false;\n    } else {\n      for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n        var slotData = resources_1[_i];\n        this.renderEventsHandler(slotData.renderDates, slotData.workDays, slotData);\n      }\n    }\n  };\n  MonthEvent.prototype.getSlotDates = function (workDays) {\n    this.slots = [];\n    var dates = this.dateRender.map(function (date) {\n      return +date;\n    });\n    var noOfDays = !this.parent.activeViewOptions.showWeekend || this.parent.activeViewOptions.group.byDate && this.parent.activeViewOptions.group.hideNonWorkingDays ? workDays.length : util.WEEK_LENGTH;\n    while (dates.length > 0) {\n      this.slots.push(dates.splice(0, noOfDays));\n    }\n  };\n  MonthEvent.prototype.createAppointmentElement = function (record, resIndex, isCloneElement) {\n    if (isCloneElement === void 0) {\n      isCloneElement = false;\n    }\n    var eventSubject = record[this.fields.subject] || this.parent.eventSettings.fields.subject.default || this.parent.localeObj.getConstant('addTitle');\n    var newRecord = extend({}, record, record.data, true);\n    var attrs = {\n      'data-id': 'Appointment_' + record[this.fields.id],\n      'role': 'button',\n      'tabindex': '0',\n      'aria-disabled': this.parent.eventBase.getReadonlyAttribute(record),\n      'aria-label': this.parent.getAnnouncementString(newRecord, eventSubject)\n    };\n    if (!isCloneElement) {\n      attrs['data-guid'] = record.Guid;\n    }\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      attrs['data-group-index'] = resIndex.toString();\n    }\n    var appointmentWrapper = createElement('div', {\n      className: cls.APPOINTMENT_CLASS,\n      attrs: attrs\n    });\n    if (!isNullOrUndefined(this.cssClass)) {\n      addClass([appointmentWrapper], this.cssClass);\n    }\n    if (record[this.fields.isReadonly]) {\n      addClass([appointmentWrapper], 'e-read-only');\n    }\n    var appointmentDetails = createElement('div', {\n      className: cls.APPOINTMENT_DETAILS\n    });\n    appointmentWrapper.appendChild(appointmentDetails);\n    var templateElement;\n    var eventData = record.data;\n    var eventObj = this.getEventData(record);\n    if (!isNullOrUndefined(this.parent.activeViewOptions.eventTemplate)) {\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.eventTemplateName;\n      var templateId = scheduleId + viewName + 'eventTemplate';\n      var eventTemplate = 'eventTemplate' + (this.isResourceEventTemplate ? '_' + resIndex : '');\n      templateElement = this.parent.getAppointmentTemplate()(eventObj, this.parent, eventTemplate, templateId, false);\n    } else {\n      var eventLocation = record[this.fields.location] || this.parent.eventSettings.fields.location.default || '';\n      var appointmentSubject = createElement('div', {\n        className: cls.SUBJECT_CLASS,\n        innerHTML: eventSubject + (eventLocation ? ';&nbsp' + eventLocation : '')\n      });\n      var appointmentStartTime = createElement('div', {\n        className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n        innerHTML: this.parent.getTimeString(eventData[this.fields.startTime])\n      });\n      var appointmentEndTime = createElement('div', {\n        className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n        innerHTML: this.parent.getTimeString(eventData[this.fields.endTime])\n      });\n      if (this.parent.currentView === 'Month') {\n        if (record[this.fields.isAllDay]) {\n          templateElement = [appointmentSubject];\n          addClass([appointmentSubject], 'e-text-center');\n        } else if (eventData.count <= 1 && !eventData.isLeft && !eventData.isRight) {\n          templateElement = [appointmentStartTime, appointmentSubject];\n        } else {\n          templateElement = [];\n          addClass([appointmentSubject], 'e-text-center');\n          if (!eventData.isLeft) {\n            templateElement.push(appointmentStartTime);\n          }\n          templateElement.push(appointmentSubject);\n          if (!eventData.isRight) {\n            templateElement.push(appointmentEndTime);\n          }\n        }\n      } else {\n        var innerElement = void 0;\n        if (record[this.fields.isAllDay]) {\n          var allDayString = createElement('div', {\n            className: cls.APPOINTMENT_TIME,\n            innerHTML: this.parent.localeObj.getConstant('allDay')\n          });\n          innerElement = [appointmentSubject, allDayString];\n        } else {\n          var timeString = this.parent.getTimeString(eventData[this.fields.startTime]) + ' - ' + this.parent.getTimeString(eventData[this.fields.endTime]);\n          var appTime = createElement('div', {\n            className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n            innerHTML: timeString\n          });\n          var appLocation = createElement('div', {\n            className: cls.LOCATION_CLASS,\n            innerHTML: eventLocation\n          });\n          innerElement = [appointmentSubject, appTime, appLocation];\n        }\n        var wrap = createElement('div', {\n          className: 'e-inner-wrap'\n        });\n        append(innerElement, wrap);\n        templateElement = [wrap];\n      }\n    }\n    append(templateElement, appointmentDetails);\n    this.appendEventIcons(record, appointmentDetails);\n    this.renderResizeHandler(appointmentWrapper, record.data, record[this.fields.isReadonly]);\n    return appointmentWrapper;\n  };\n  MonthEvent.prototype.appendEventIcons = function (record, appointmentDetails) {\n    var eventData = record.data;\n    if (!isNullOrUndefined(record[this.fields.recurrenceRule]) || !isNullOrUndefined(record[this.fields.recurrenceID])) {\n      var iconClass = record[this.fields.id] === record[this.fields.recurrenceID] ? cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n      appointmentDetails.appendChild(createElement('div', {\n        className: cls.ICON + ' ' + iconClass + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : '')\n      }));\n    }\n    if (eventData.isLeft) {\n      var iconLeft = createElement('div', {\n        className: cls.EVENT_INDICATOR_CLASS + ' ' + cls.ICON + ' ' + cls.EVENT_ICON_LEFT_CLASS\n      });\n      prepend([iconLeft], appointmentDetails);\n    }\n    if (eventData.isRight) {\n      var iconRight = createElement('div', {\n        className: cls.EVENT_INDICATOR_CLASS + ' ' + cls.ICON + ' ' + cls.EVENT_ICON_RIGHT_CLASS\n      });\n      append([iconRight], appointmentDetails);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  MonthEvent.prototype.renderEvents = function (event, resIndex, eventsList) {\n    var startTime = event[this.fields.startTime];\n    var endTime = event[this.fields.endTime];\n    var day = this.parent.getIndexOfDate(this.dateRender, util.resetTime(startTime));\n    if (day < 0 || startTime.getTime() < this.parent.minDate.getTime() || endTime.getTime() > this.parent.maxDate.getTime()) {\n      return;\n    }\n    var overlapCount = this.getIndex(startTime);\n    event.Index = overlapCount;\n    var diffInDays = event.data.count;\n    if (startTime.getTime() <= endTime.getTime()) {\n      var appWidth = diffInDays * this.cellWidth - 5;\n      var cellTd = this.workCells[parseInt(day.toString(), 10)];\n      var appTop = overlapCount * (this.eventHeight + EVENT_GAP);\n      var height = this.monthHeaderHeight + (overlapCount + 1) * (this.eventHeight + EVENT_GAP) + this.moreIndicatorHeight;\n      var enableAppRender = this.maxOrIndicator ? overlapCount < 1 ? true : false : this.cellHeight > height;\n      if (this.parent.rowAutoHeight || enableAppRender) {\n        this.renderedEvents.push(extend({}, event, null, true));\n        var appointmentElement = void 0;\n        if (this.inlineValue) {\n          appointmentElement = this.parent.inlineModule.createInlineAppointmentElement();\n        } else {\n          appointmentElement = this.createAppointmentElement(event, resIndex);\n        }\n        this.applyResourceColor(appointmentElement, event, 'backgroundColor', this.groupOrder);\n        this.wireAppointmentEvents(appointmentElement, event);\n        setStyleAttribute(appointmentElement, {\n          'width': appWidth + 'px',\n          'top': appTop + 'px'\n        });\n        this.renderEventElement(event, appointmentElement, cellTd);\n        if (this.parent.rowAutoHeight) {\n          var firstChild = cellTd.parentElement.firstElementChild;\n          this.updateCellHeight(firstChild, height);\n        }\n      } else {\n        for (var i = 0; i < diffInDays; i++) {\n          if (this.workCells[day + i]) {\n            var indicator = this.workCells[day + i].querySelector('.' + cls.MORE_INDICATOR_CLASS);\n            if (indicator) {\n              var count = parseInt(indicator.getAttribute('data-count'), 10) + 1;\n              indicator.setAttribute('data-count', count.toString());\n              indicator.innerHTML = this.getMoreIndicatorText(count);\n            } else {\n              var startDate = new Date(this.dateRender[day + i].getTime());\n              var endDate = util.addDays(this.dateRender[day + i], 1);\n              var groupIndex = this.workCells[day + i].getAttribute('data-group-index');\n              var moreIndicatorElement = this.getMoreIndicatorElement(1, startDate, endDate);\n              if (!isNullOrUndefined(groupIndex)) {\n                moreIndicatorElement.setAttribute('data-group-index', groupIndex);\n              }\n              moreIndicatorElement.style.top = this.cellHeight - this.monthHeaderHeight - this.moreIndicatorHeight + 'px';\n              moreIndicatorElement.style.width = this.cellWidth - 2 + 'px';\n              this.renderElement(this.workCells[day + i], moreIndicatorElement);\n              EventHandler.add(moreIndicatorElement, 'click', this.moreIndicatorClick, this);\n            }\n          }\n        }\n      }\n    }\n  };\n  MonthEvent.prototype.updateCellHeight = function (cell, height) {\n    if (height > cell.offsetHeight) {\n      setStyleAttribute(cell, {\n        'height': height + 'px'\n      });\n    }\n  };\n  MonthEvent.prototype.updateBlockElements = function () {\n    var blockElement = [].slice.call(this.element.querySelectorAll('.' + cls.BLOCK_APPOINTMENT_CLASS));\n    for (var _i = 0, blockElement_1 = blockElement; _i < blockElement_1.length; _i++) {\n      var element = blockElement_1[_i];\n      var target = closest(element, 'tr');\n      this.monthHeaderHeight = element.offsetParent.offsetTop - target.offsetTop;\n      element.style.height = target.offsetHeight - 1 - this.monthHeaderHeight + 'px';\n      var firstChild = target.firstElementChild;\n      var width = Math.round(element.offsetWidth / firstChild.offsetWidth);\n      element.style.width = firstChild.offsetWidth * width + 'px';\n    }\n  };\n  // eslint-disable-next-line max-len\n  MonthEvent.prototype.getFilteredEvents = function (startDate, endDate, groupIndex, eventsList) {\n    var filteredEvents;\n    if (isNullOrUndefined(groupIndex)) {\n      filteredEvents = this.filterEvents(startDate, endDate);\n    } else {\n      var data = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex, 10)];\n      filteredEvents = this.filterEvents(startDate, endDate, isNullOrUndefined(eventsList) ? undefined : eventsList, data);\n    }\n    return filteredEvents;\n  };\n  MonthEvent.prototype.getOverlapEvents = function (date, appointments) {\n    var appointmentsList = [];\n    var dateTime = util.resetTime(date).getTime();\n    for (var _i = 0, appointments_1 = appointments; _i < appointments_1.length; _i++) {\n      var app = appointments_1[_i];\n      if (util.resetTime(app[this.fields.startTime]).getTime() <= dateTime && util.resetTime(app[this.fields.endTime]).getTime() >= dateTime) {\n        appointmentsList.push(app);\n      }\n    }\n    return appointmentsList;\n  };\n  MonthEvent.prototype.getIndex = function (date) {\n    var appIndex = -1;\n    var appointments = this.renderedEvents;\n    if (appointments.length > 0) {\n      var appointmentsList = this.getOverlapEvents(date, appointments);\n      var appLevel = appointmentsList.map(function (obj) {\n        return obj.Index;\n      });\n      appIndex = appLevel.length > 0 ? this.getSmallestMissingNumber(appLevel) : 0;\n    }\n    return appIndex === -1 ? 0 : appIndex;\n  };\n  MonthEvent.prototype.moreIndicatorClick = function (event) {\n    var _this = this;\n    var target = closest(event.target, '.' + cls.MORE_INDICATOR_CLASS);\n    var startDate = new Date(parseInt(target.getAttribute('data-start-date'), 10));\n    var endDate = new Date(parseInt(target.getAttribute('data-end-date'), 10));\n    var groupIndex = target.getAttribute('data-group-index');\n    var moreArgs = {\n      cancel: false,\n      event: event,\n      element: target,\n      isPopupOpen: true,\n      startTime: startDate,\n      endTime: endDate,\n      viewName: this.parent.getNavigateView()\n    };\n    if (groupIndex) {\n      moreArgs.groupIndex = parseInt(groupIndex, 10);\n    }\n    this.parent.trigger(events.moreEventsClick, moreArgs, function (clickArgs) {\n      if (!clickArgs.cancel) {\n        if (clickArgs.isPopupOpen) {\n          var filteredEvents = _this.getFilteredEvents(startDate, endDate, groupIndex);\n          var moreArgs_1 = {\n            date: startDate,\n            event: filteredEvents,\n            element: event.target\n          };\n          _this.parent.quickPopup.moreEventClick(moreArgs_1, endDate, groupIndex);\n        } else {\n          _this.parent.setProperties({\n            selectedDate: startDate\n          }, true);\n          _this.parent.changeView(clickArgs.viewName, event);\n        }\n      }\n    });\n  };\n  MonthEvent.prototype.renderEventElement = function (event, appointmentElement, cellTd) {\n    var _this = this;\n    var eventType = appointmentElement.classList.contains(cls.BLOCK_APPOINTMENT_CLASS) ? 'blockEvent' : 'event';\n    var isAppointment = appointmentElement.classList.contains(cls.APPOINTMENT_CLASS);\n    var eventObj = this.getEventData(event);\n    var args = {\n      data: eventObj,\n      element: appointmentElement,\n      cancel: false,\n      type: eventType\n    };\n    this.parent.trigger(events.eventRendered, args, function (eventArgs) {\n      if (eventArgs.cancel) {\n        _this.renderedEvents.pop();\n      } else {\n        _this.renderElement(cellTd, appointmentElement, isAppointment);\n      }\n    });\n  };\n  MonthEvent.prototype.getEventData = function (event) {\n    var eventObj = extend({}, event, null, true);\n    eventObj[this.fields.startTime] = event.data[this.fields.startTime];\n    eventObj[this.fields.endTime] = event.data[this.fields.endTime];\n    return eventObj;\n  };\n  MonthEvent.prototype.renderElement = function (cellTd, element, isAppointment) {\n    if (isAppointment === void 0) {\n      isAppointment = false;\n    }\n    if (this.maxOrIndicator && isAppointment) {\n      this.setMaxEventHeight(element, cellTd);\n    }\n    var wrapperEle = cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS);\n    if (wrapperEle) {\n      wrapperEle.appendChild(element);\n    } else {\n      var wrapper = createElement('div', {\n        className: cls.APPOINTMENT_WRAPPER_CLASS\n      });\n      wrapper.appendChild(element);\n      cellTd.appendChild(wrapper);\n    }\n  };\n  MonthEvent.prototype.getMoreIndicatorElement = function (count, startDate, endDate) {\n    var moreIndicatorElement = createElement('div', {\n      className: cls.MORE_INDICATOR_CLASS,\n      innerHTML: this.getMoreIndicatorText(count),\n      attrs: {\n        'tabindex': '0',\n        'data-count': count.toString(),\n        'data-start-date': startDate.getTime().toString(),\n        'data-end-date': endDate.getTime().toString()\n      }\n    });\n    return moreIndicatorElement;\n  };\n  MonthEvent.prototype.getMoreIndicatorText = function (count) {\n    return '+' + this.parent.globalize.formatNumber(count) + '&nbsp;' + (this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant('more'));\n  };\n  MonthEvent.prototype.removeHeightProperty = function (selector) {\n    var rows = [].slice.call(this.element.querySelectorAll('.' + selector + ' tbody tr'));\n    for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n      var row = rows_1[_i];\n      row.firstElementChild.style.height = '';\n    }\n  };\n  MonthEvent.prototype.setMaxEventHeight = function (event, cell) {\n    var headerHeight = util.getOuterHeight(cell.querySelector('.' + cls.DATE_HEADER_CLASS));\n    var height = cell.offsetHeight - headerHeight - (this.maxHeight ? 0 : this.moreIndicatorHeight);\n    setStyleAttribute(event, {\n      'height': height + 'px',\n      'align-items': 'center'\n    });\n  };\n  MonthEvent.prototype.destroy = function () {\n    this.element = null;\n    this.fields = null;\n    this.maxHeight = null;\n    this.withIndicator = null;\n    this.maxOrIndicator = null;\n    this.moreIndicatorHeight = null;\n    this.removeEventListener();\n    _super.prototype.destroy.call(this);\n  };\n  return MonthEvent;\n}(EventBase);\nexport { MonthEvent };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","append","prepend","createElement","extend","EventHandler","closest","addClass","isNullOrUndefined","setStyleAttribute","remove","EventBase","cls","events","util","EVENT_GAP","MonthEvent","_super","parent","_this","call","renderedEvents","monthHeaderHeight","moreIndicatorHeight","renderType","element","activeView","getPanel","fields","eventFields","maxHeight","eventSettings","enableMaxHeight","enableIndicator","rowAutoHeight","withIndicator","maxOrIndicator","ignoreWhitespace","addEventListener","removeEventWrapper","appElement","length","currentView","isTimelineView","activeViewOptions","timeScale","enable","_i","appElement_1","wrap","parentElement","parentNode","renderAppointments","dragAndDropModule","setDragArea","isResourceEventTemplate","isSpecificResourceEvents","conWrap","querySelector","CONTENT_WRAP_CLASS","uiStateValues","top","scrollTop","left","scrollLeft","appointmentWrapper","slice","querySelectorAll","APPOINTMENT_WRAPPER_CLASS","crudModule","crudObj","isCrudAction","i","len","sourceEvent","parseInt","toString","groupIndex","targetEvent","ele","appointmentWrapper_1","removeHeightProperty","CONTENT_TABLE_CLASS","WORK_CELLS_CLASS","wrapper","className","cellTd","appendChild","offsetTop","removeChild","eventHeight","getElementHeightFromClass","APPOINTMENT_CLASS","virtualScrollModule","isHorizontalScroll","currentAction","group","resources","renderResourceEvents","updateFocusedWorkCell","renderEventsHandler","renderDates","workDays","updateBlockElements","data","cssProperties","getCssProperties","module","getModuleName","isPreventScrollUpdate","scrollPosition","updateVirtualScrollHeight","enablePersistence","notify","contentReady","scrollUiUpdate","showWeekNumber","totalCells_1","weekNumberCells","WEEK_NUMBER_CLASS","forEach","cell","height","offsetHeight","WEEK_NUMBER_WRAPPER_CLASS","renderTemplates","dateRender","resData","eventsList","blockList","resIndex","cssClass","groupOrder","eventBase","filterEventsByResource","eventsProcessed","blockProcessed","workCells","sortByDateTime","totalCells","height_1","clientHeight","cellDetail","getBoundingClientRect","cellWidth","width","cellHeight","filteredDates","getRenderedDates","getSlotDates","processBlockEvents","eventsList_1","event_1","resourceBase","getCssClass","concat","splitEvent","level","slots","slot","endDate","addDays","Date","spannedEvents","filterEvents","_a","spannedEvents_1","event_2","sDate","startTime","getStartTime","getIndex","updateIndicatorIcon","renderEvents","blockEvents","blockEvents_1","event_3","blockSpannedList","isAllDay","temp","isSameDate","endTime","isBlockIcon","getDateInMs","e","resetTime","push","blockSpannedList_1","blockEvent","_b","spannedEvents_2","event_4","renderBlockEvents","start","end","setHours","event","isIcon","eventData","getEndTime","day","getIndexOfDate","getTime","getCellTd","position","getPosition","diffInDays","count","appWidth","getEventWidth","appLeft","enableRtl","appRight","appHeight","appTop","getRowTop","blockElement","createBlockAppointmentElement","renderEventElement","renderBlockIndicator","blockIndicator","BLOCK_INDICATOR_CLASS","startDate","indexOf","cloneData","getStartHour","getEndHour","startHour","getStartEndHours","endHour","actualStartTime","actualEndTime","isLeft","isRight","actualStartHour","actualEndHour","getHours","getMinutes","getSeconds","getDate","isGroupAdaptive","lastResourceLevel","renderedResources","sourceRes","target","resources_1","slotData","dates","map","date","noOfDays","showWeekend","byDate","hideNonWorkingDays","WEEK_LENGTH","splice","createAppointmentElement","record","isCloneElement","eventSubject","subject","default","localeObj","getConstant","newRecord","attrs","id","getReadonlyAttribute","getAnnouncementString","Guid","isReadonly","appointmentDetails","APPOINTMENT_DETAILS","templateElement","eventObj","getEventData","eventTemplate","scheduleId","viewName","eventTemplateName","templateId","getAppointmentTemplate","eventLocation","location","appointmentSubject","SUBJECT_CLASS","innerHTML","appointmentStartTime","APPOINTMENT_TIME","isAdaptive","DISABLE_CLASS","getTimeString","appointmentEndTime","innerElement","allDayString","timeString","appTime","appLocation","LOCATION_CLASS","appendEventIcons","renderResizeHandler","recurrenceRule","recurrenceID","iconClass","EVENT_RECURRENCE_ICON_CLASS","EVENT_RECURRENCE_EDIT_ICON_CLASS","ICON","iconLeft","EVENT_INDICATOR_CLASS","EVENT_ICON_LEFT_CLASS","iconRight","EVENT_ICON_RIGHT_CLASS","minDate","maxDate","overlapCount","Index","enableAppRender","appointmentElement","inlineValue","inlineModule","createInlineAppointmentElement","applyResourceColor","wireAppointmentEvents","firstChild","firstElementChild","updateCellHeight","indicator","MORE_INDICATOR_CLASS","getAttribute","setAttribute","getMoreIndicatorText","moreIndicatorElement","getMoreIndicatorElement","style","renderElement","add","moreIndicatorClick","BLOCK_APPOINTMENT_CLASS","blockElement_1","offsetParent","Math","round","offsetWidth","getFilteredEvents","filteredEvents","undefined","getOverlapEvents","appointments","appointmentsList","dateTime","appointments_1","app","appIndex","appLevel","obj","getSmallestMissingNumber","moreArgs","cancel","isPopupOpen","getNavigateView","trigger","moreEventsClick","clickArgs","moreArgs_1","quickPopup","moreEventClick","setProperties","selectedDate","changeView","eventType","classList","contains","isAppointment","args","type","eventRendered","eventArgs","pop","setMaxEventHeight","wrapperEle","globalize","formatNumber","selector","rows","rows_1","row","headerHeight","getOuterHeight","DATE_HEADER_CLASS","destroy","removeEventListener"],"sources":["D:/xampp/htdocs/biolabs/biolabs/node_modules/@syncfusion/ej2-schedule/src/schedule/event-renderer/month.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, prepend, createElement, extend, EventHandler, closest, addClass } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, setStyleAttribute, remove } from '@syncfusion/ej2-base';\nimport { EventBase } from './event-base';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nvar EVENT_GAP = 0;\n/**\n * Month view events render\n */\nvar MonthEvent = /** @class */ (function (_super) {\n    __extends(MonthEvent, _super);\n    function MonthEvent(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.renderedEvents = [];\n        _this.monthHeaderHeight = 0;\n        _this.moreIndicatorHeight = 19;\n        _this.renderType = 'day';\n        _this.element = _this.parent.activeView.getPanel();\n        _this.fields = _this.parent.eventFields;\n        _this.maxHeight = _this.parent.eventSettings.enableMaxHeight && !_this.parent.eventSettings.enableIndicator\n            && !_this.parent.rowAutoHeight;\n        _this.withIndicator = _this.parent.eventSettings.enableMaxHeight && _this.parent.eventSettings.enableIndicator\n            && !_this.parent.rowAutoHeight;\n        _this.maxOrIndicator = (_this.maxHeight || _this.withIndicator);\n        _this.moreIndicatorHeight =\n            (_this.parent.rowAutoHeight && _this.parent.eventSettings.ignoreWhitespace) ? 0 : _this.moreIndicatorHeight;\n        _this.addEventListener();\n        return _this;\n    }\n    MonthEvent.prototype.removeEventWrapper = function (appElement) {\n        if (appElement.length > 0) {\n            appElement = (this.parent.currentView === 'Month' || (!this.parent.activeView.isTimelineView() &&\n                !this.parent.activeViewOptions.timeScale.enable)) ? appElement : [appElement[0]];\n            for (var _i = 0, appElement_1 = appElement; _i < appElement_1.length; _i++) {\n                var wrap = appElement_1[_i];\n                if (wrap.parentElement && wrap.parentElement.parentNode) {\n                    remove(wrap.parentElement);\n                }\n            }\n        }\n    };\n    MonthEvent.prototype.renderAppointments = function () {\n        if (this.parent.dragAndDropModule) {\n            this.parent.dragAndDropModule.setDragArea();\n        }\n        this.isResourceEventTemplate = this.parent.isSpecificResourceEvents();\n        var conWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (this.parent.rowAutoHeight) {\n            this.parent.uiStateValues.top = conWrap.scrollTop;\n            this.parent.uiStateValues.left = conWrap.scrollLeft;\n        }\n        var appointmentWrapper = [].slice.call(this.element.querySelectorAll('.' + cls.APPOINTMENT_WRAPPER_CLASS));\n        if (this.parent.crudModule && this.parent.crudModule.crudObj.isCrudAction) {\n            for (var i = 0, len = this.parent.crudModule.crudObj.sourceEvent.length; i < len; i++) {\n                var appElement = [].slice.call(this.element.querySelectorAll('.e-appointment-wrapper ' + '[data-group-index=\"' +\n                    this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex + '\"]'));\n                this.removeEventWrapper(appElement);\n                if (this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)] &&\n                    this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex !==\n                        this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex) {\n                    var ele = [].slice.call(this.element.querySelectorAll('.e-appointment-wrapper ' + '[data-group-index=\"' +\n                        this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex + '\"]'));\n                    this.removeEventWrapper(ele);\n                }\n            }\n        }\n        else {\n            for (var _i = 0, appointmentWrapper_1 = appointmentWrapper; _i < appointmentWrapper_1.length; _i++) {\n                var wrap = appointmentWrapper_1[_i];\n                remove(wrap);\n            }\n        }\n        this.removeHeightProperty(cls.CONTENT_TABLE_CLASS);\n        if (!this.element.querySelector('.' + cls.WORK_CELLS_CLASS)) {\n            return;\n        }\n        if (this.parent.currentView === 'Month') {\n            var wrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            var cellTd = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n            cellTd.appendChild(wrapper);\n            this.monthHeaderHeight = wrapper.offsetTop - cellTd.offsetTop;\n            cellTd.removeChild(wrapper);\n        }\n        this.eventHeight = util.getElementHeightFromClass(this.element, cls.APPOINTMENT_CLASS);\n        var scrollTop = conWrap.scrollTop;\n        if (this.parent.rowAutoHeight && this.parent.virtualScrollModule && !this.parent.virtualScrollModule.isHorizontalScroll\n            && !isNullOrUndefined(this.parent.currentAction)) {\n            conWrap.scrollTop = conWrap.scrollTop - 1;\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.renderResourceEvents();\n            if (this.parent.virtualScrollModule) {\n                this.parent.virtualScrollModule.updateFocusedWorkCell();\n            }\n        }\n        else {\n            this.renderEventsHandler(this.parent.activeView.renderDates, this.parent.activeViewOptions.workDays);\n        }\n        if (this.parent.rowAutoHeight) {\n            this.updateBlockElements();\n            var data = {\n                cssProperties: this.parent.getCssProperties(),\n                module: this.parent.getModuleName(),\n                isPreventScrollUpdate: true,\n                scrollPosition: { left: this.parent.uiStateValues.left, top: this.parent.uiStateValues.top }\n            };\n            if (this.parent.virtualScrollModule && !this.parent.virtualScrollModule.isHorizontalScroll) {\n                if (this.parent.currentAction) {\n                    conWrap.scrollTop = scrollTop;\n                    this.parent.currentAction = null;\n                }\n                else {\n                    this.parent.virtualScrollModule.updateVirtualScrollHeight();\n                }\n            }\n            if (!this.parent.enablePersistence) {\n                this.parent.notify(events.contentReady, {});\n            }\n            this.parent.notify(events.scrollUiUpdate, data);\n            if (this.parent.currentView === 'Month' && this.parent.showWeekNumber) {\n                var totalCells_1 = [].slice.call(this.parent.element.querySelectorAll('.e-content-wrap table tr td:first-child'));\n                var weekNumberCells = [].slice.call(this.parent.element.querySelectorAll('.' + cls.WEEK_NUMBER_CLASS));\n                weekNumberCells.forEach(function (cell, i) {\n                    var height = totalCells_1[parseInt(i.toString(), 10)].offsetHeight;\n                    setStyleAttribute(cell, { 'height': height + 'px' });\n                });\n                this.parent.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS).scrollTop =\n                    this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS).scrollTop;\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    MonthEvent.prototype.renderEventsHandler = function (dateRender, workDays, resData) {\n        this.renderedEvents = [];\n        var eventsList;\n        var blockList;\n        var resIndex = 0;\n        if (resData) {\n            resIndex = resData.groupIndex;\n            this.cssClass = resData.cssClass;\n            this.groupOrder = resData.groupOrder;\n            eventsList = this.parent.eventBase.filterEventsByResource(resData, this.parent.eventsProcessed);\n            blockList = this.parent.eventBase.filterEventsByResource(resData, this.parent.blockProcessed);\n            this.workCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS + '[data-group-index=\"' + resIndex + '\"]'));\n        }\n        else {\n            eventsList = this.parent.eventsProcessed;\n            blockList = this.parent.blockProcessed;\n            this.workCells = [].slice.call(this.element.querySelectorAll('.' + cls.WORK_CELLS_CLASS));\n        }\n        this.sortByDateTime(eventsList);\n        this.sortByDateTime(blockList);\n        if (this.parent.currentView === 'Month' && this.parent.rowAutoHeight && this.parent.activeViewOptions.group.resources.length === 0) {\n            var totalCells = [].slice.call(this.parent.element.querySelectorAll('.e-content-wrap table tr td:first-child'));\n            var height_1 = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).clientHeight / totalCells.length;\n            totalCells.forEach(function (cell) {\n                setStyleAttribute(cell, { 'height': height_1 + 'px' });\n            });\n        }\n        var cellDetail = this.workCells[this.parent.activeView.isTimelineView() ?\n            0 : this.workCells.length - 1].getBoundingClientRect();\n        this.cellWidth = cellDetail.width;\n        this.cellHeight = cellDetail.height;\n        this.dateRender = dateRender;\n        var filteredDates = this.getRenderedDates(dateRender);\n        this.getSlotDates(workDays || this.parent.activeViewOptions.workDays);\n        this.processBlockEvents(blockList, resIndex, resData);\n        var events = [];\n        for (var _i = 0, eventsList_1 = eventsList; _i < eventsList_1.length; _i++) {\n            var event_1 = eventsList_1[_i];\n            if (this.parent.resourceBase && !resData) {\n                this.cssClass = this.parent.resourceBase.getCssClass(event_1);\n            }\n            events = events.concat(this.splitEvent(event_1, filteredDates || this.dateRender));\n        }\n        for (var level = 0; level < this.slots.length; level++) {\n            this.renderedEvents = [];\n            var slot = this.slots[parseInt(level.toString(), 10)];\n            var endDate = util.addDays(new Date(slot[slot.length - 1]), 1);\n            var spannedEvents = this.filterEvents(new Date(slot[0]), endDate, events);\n            for (var _a = 0, spannedEvents_1 = spannedEvents; _a < spannedEvents_1.length; _a++) {\n                var event_2 = spannedEvents_1[_a];\n                if (this.maxHeight) {\n                    var sDate = this.parent.currentView === 'Month' ? event_2[this.fields.startTime] :\n                        this.getStartTime(event_2, event_2.data);\n                    if (this.getIndex(sDate) > 0) {\n                        continue;\n                    }\n                }\n                this.updateIndicatorIcon(event_2);\n                this.renderEvents(event_2, resIndex, eventsList);\n            }\n        }\n        this.cssClass = null;\n        this.groupOrder = null;\n    };\n    MonthEvent.prototype.processBlockEvents = function (blockEvents, resIndex, resData) {\n        for (var _i = 0, blockEvents_1 = blockEvents; _i < blockEvents_1.length; _i++) {\n            var event_3 = blockEvents_1[_i];\n            if (this.parent.resourceBase && !resData) {\n                this.cssClass = this.parent.resourceBase.getCssClass(event_3);\n            }\n            var blockSpannedList = [];\n            if (this.renderType === 'day' && !event_3[this.fields.isAllDay]) {\n                var temp = extend({}, event_3, null, true);\n                var isSameDate = this.isSameDate(temp[this.fields.startTime], temp[this.fields.endTime]);\n                temp.isBlockIcon = isSameDate;\n                if (!isSameDate && util.getDateInMs(temp[this.fields.startTime]) > 0) {\n                    var e = extend({}, event_3, null, true);\n                    e[this.fields.endTime] = util.addDays(util.resetTime(new Date(event_3[this.fields.startTime] + '')), 1);\n                    e.isBlockIcon = true;\n                    temp[this.fields.startTime] = e[this.fields.endTime];\n                    blockSpannedList.push(e);\n                }\n                isSameDate = this.isSameDate(temp[this.fields.startTime], temp[this.fields.endTime]);\n                if (!isSameDate && util.getDateInMs(temp[this.fields.endTime]) > 0) {\n                    var e = extend({}, event_3, null, true);\n                    e[this.fields.startTime] = util.resetTime(new Date(event_3[this.fields.endTime] + ''));\n                    e.isBlockIcon = true;\n                    blockSpannedList.push(e);\n                    temp[this.fields.endTime] = e[this.fields.startTime];\n                }\n                blockSpannedList.push(temp);\n            }\n            else {\n                blockSpannedList.push(event_3);\n            }\n            for (var _a = 0, blockSpannedList_1 = blockSpannedList; _a < blockSpannedList_1.length; _a++) {\n                var blockEvent = blockSpannedList_1[_a];\n                var spannedEvents = this.splitEvent(blockEvent, this.dateRender);\n                for (var _b = 0, spannedEvents_2 = spannedEvents; _b < spannedEvents_2.length; _b++) {\n                    var event_4 = spannedEvents_2[_b];\n                    this.renderBlockEvents(event_4, resIndex, !!blockEvent.isBlockIcon);\n                }\n            }\n        }\n    };\n    MonthEvent.prototype.isSameDate = function (start, end) {\n        return new Date(+start).setHours(0, 0, 0, 0) === new Date(+end).setHours(0, 0, 0, 0);\n    };\n    MonthEvent.prototype.renderBlockEvents = function (event, resIndex, isIcon) {\n        var eventData = event.data;\n        var startTime = this.getStartTime(event, eventData);\n        var endTime = this.getEndTime(event, eventData);\n        var day = this.parent.getIndexOfDate(this.dateRender, util.resetTime(new Date(startTime.getTime())));\n        if (day < 0 || startTime > endTime) {\n            return;\n        }\n        var cellTd = this.getCellTd(day);\n        var position = this.getPosition(startTime, endTime, event[this.fields.isAllDay], day);\n        if (!isIcon) {\n            var diffInDays = eventData.count;\n            var appWidth = this.getEventWidth(startTime, endTime, event[this.fields.isAllDay], diffInDays);\n            appWidth = (appWidth <= 0) ? this.cellWidth : appWidth;\n            var appLeft = (this.parent.enableRtl) ? 0 : position;\n            var appRight = (this.parent.enableRtl) ? position : 0;\n            var appHeight = this.cellHeight - this.monthHeaderHeight;\n            var appTop = this.getRowTop(resIndex);\n            var blockElement = this.createBlockAppointmentElement(event, resIndex, this.isResourceEventTemplate);\n            setStyleAttribute(blockElement, {\n                'width': appWidth + 'px', 'height': appHeight + 'px', 'left': appLeft + 'px',\n                'right': appRight + 'px', 'top': appTop + 'px'\n            });\n            this.renderEventElement(event, blockElement, cellTd);\n        }\n        else {\n            this.renderBlockIndicator(cellTd, position, resIndex);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.renderBlockIndicator = function (cellTd, position, resIndex) {\n        var blockIndicator = createElement('div', { className: 'e-icons ' + cls.BLOCK_INDICATOR_CLASS });\n        if (isNullOrUndefined(cellTd.querySelector('.' + cls.BLOCK_INDICATOR_CLASS))) {\n            cellTd.appendChild(blockIndicator);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.getStartTime = function (event, eventData) {\n        return event[this.fields.startTime];\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.getEndTime = function (event, eventData) {\n        return event[this.fields.endTime];\n    };\n    MonthEvent.prototype.getCellTd = function (day) {\n        return this.workCells[parseInt(day.toString(), 10)];\n    };\n    MonthEvent.prototype.getEventWidth = function (startDate, endDate, isAllDay, count) {\n        return count * this.cellWidth - 1;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.getPosition = function (startTime, endTime, isAllDay, day) {\n        return 0;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.getRowTop = function (resIndex) {\n        return 0;\n    };\n    MonthEvent.prototype.updateIndicatorIcon = function (event) {\n        if (this.parent.currentView.indexOf('Timeline') === -1 || this.parent.currentView === 'TimelineMonth'\n            || event[this.fields.isAllDay]) {\n            return;\n        }\n        var cloneData = event.data;\n        var start = this.parent.activeView.getStartHour();\n        var end = this.parent.activeView.getEndHour();\n        var startHour = util.getStartEndHours(event[this.fields.startTime], start, end);\n        var endHour = util.getStartEndHours(event[this.fields.endTime], start, end);\n        var actualStartTime = cloneData[this.fields.startTime];\n        var actualEndTime = cloneData[this.fields.endTime];\n        cloneData.isLeft = cloneData.isLeft || actualStartTime.getTime() < startHour.startHour.getTime();\n        cloneData.isRight = cloneData.isRight || actualEndTime.getTime() > endHour.endHour.getTime();\n        if (util.resetTime(actualStartTime).getTime() !== util.resetTime(actualEndTime).getTime()) {\n            var actualStartHour = startHour.startHour;\n            var actualEndHour = endHour.endHour;\n            var startTime = new Date(util.resetTime(actualStartTime));\n            startTime.setHours(actualEndHour.getHours(), actualEndHour.getMinutes(), actualEndHour.getSeconds());\n            cloneData.isLeft = cloneData.isLeft || actualStartTime.getTime() >= (actualStartHour.getDate() === startHour.endHour.getDate() ?\n                startTime.getTime() : util.addDays(startTime, 1).getTime());\n            if (actualEndTime.getTime() !== util.resetTime(actualEndTime).getTime()) {\n                var endTime = new Date(util.resetTime(actualEndTime));\n                cloneData.isRight = cloneData.isRight || actualEndTime.getTime() <=\n                    endTime.setHours(actualStartHour.getHours(), actualStartHour.getMinutes(), actualStartHour.getSeconds());\n            }\n        }\n    };\n    MonthEvent.prototype.renderResourceEvents = function () {\n        var resources = this.parent.uiStateValues.isGroupAdaptive ?\n            [this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex]] :\n            this.parent.resourceBase.renderedResources;\n        if (this.parent.crudModule && this.parent.crudModule.crudObj.isCrudAction) {\n            for (var i = 0, len = this.parent.crudModule.crudObj.sourceEvent.length; i < len; i++) {\n                var sourceRes = this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)];\n                this.renderEventsHandler(sourceRes.renderDates, sourceRes.workDays, sourceRes);\n                if (this.parent.crudModule.crudObj.sourceEvent[parseInt(i.toString(), 10)].groupIndex !==\n                    this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)].groupIndex) {\n                    var target = this.parent.crudModule.crudObj.targetEvent[parseInt(i.toString(), 10)];\n                    this.renderEventsHandler(target.renderDates, target.workDays, target);\n                }\n            }\n            this.parent.crudModule.crudObj.isCrudAction = false;\n        }\n        else {\n            for (var _i = 0, resources_1 = resources; _i < resources_1.length; _i++) {\n                var slotData = resources_1[_i];\n                this.renderEventsHandler(slotData.renderDates, slotData.workDays, slotData);\n            }\n        }\n    };\n    MonthEvent.prototype.getSlotDates = function (workDays) {\n        this.slots = [];\n        var dates = this.dateRender.map(function (date) { return +date; });\n        var noOfDays = !this.parent.activeViewOptions.showWeekend || (this.parent.activeViewOptions.group.byDate &&\n            this.parent.activeViewOptions.group.hideNonWorkingDays) ? workDays.length : util.WEEK_LENGTH;\n        while (dates.length > 0) {\n            this.slots.push(dates.splice(0, noOfDays));\n        }\n    };\n    MonthEvent.prototype.createAppointmentElement = function (record, resIndex, isCloneElement) {\n        if (isCloneElement === void 0) { isCloneElement = false; }\n        var eventSubject = (record[this.fields.subject] || this.parent.eventSettings.fields.subject.default ||\n            this.parent.localeObj.getConstant('addTitle'));\n        var newRecord = extend({}, record, record.data, true);\n        var attrs = {\n            'data-id': 'Appointment_' + record[this.fields.id],\n            'role': 'button', 'tabindex': '0',\n            'aria-disabled': this.parent.eventBase.getReadonlyAttribute(record),\n            'aria-label': this.parent.getAnnouncementString(newRecord, eventSubject)\n        };\n        if (!isCloneElement) {\n            attrs['data-guid'] = record.Guid;\n        }\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            attrs['data-group-index'] = resIndex.toString();\n        }\n        var appointmentWrapper = createElement('div', { className: cls.APPOINTMENT_CLASS, attrs: attrs });\n        if (!isNullOrUndefined(this.cssClass)) {\n            addClass([appointmentWrapper], this.cssClass);\n        }\n        if (record[this.fields.isReadonly]) {\n            addClass([appointmentWrapper], 'e-read-only');\n        }\n        var appointmentDetails = createElement('div', { className: cls.APPOINTMENT_DETAILS });\n        appointmentWrapper.appendChild(appointmentDetails);\n        var templateElement;\n        var eventData = record.data;\n        var eventObj = this.getEventData(record);\n        if (!isNullOrUndefined(this.parent.activeViewOptions.eventTemplate)) {\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.eventTemplateName;\n            var templateId = scheduleId + viewName + 'eventTemplate';\n            var eventTemplate = 'eventTemplate' + (this.isResourceEventTemplate ? '_' + resIndex : '');\n            templateElement = this.parent.getAppointmentTemplate()(eventObj, this.parent, eventTemplate, templateId, false);\n        }\n        else {\n            var eventLocation = (record[this.fields.location] || this.parent.eventSettings.fields.location.default || '');\n            var appointmentSubject = createElement('div', {\n                className: cls.SUBJECT_CLASS,\n                innerHTML: (eventSubject + (eventLocation ? ';&nbsp' + eventLocation : ''))\n            });\n            var appointmentStartTime = createElement('div', {\n                className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n                innerHTML: this.parent.getTimeString(eventData[this.fields.startTime])\n            });\n            var appointmentEndTime = createElement('div', {\n                className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''),\n                innerHTML: this.parent.getTimeString(eventData[this.fields.endTime])\n            });\n            if (this.parent.currentView === 'Month') {\n                if (record[this.fields.isAllDay]) {\n                    templateElement = [appointmentSubject];\n                    addClass([appointmentSubject], 'e-text-center');\n                }\n                else if (eventData.count <= 1 && !eventData.isLeft && !eventData.isRight) {\n                    templateElement = [appointmentStartTime, appointmentSubject];\n                }\n                else {\n                    templateElement = [];\n                    addClass([appointmentSubject], 'e-text-center');\n                    if (!eventData.isLeft) {\n                        templateElement.push(appointmentStartTime);\n                    }\n                    templateElement.push(appointmentSubject);\n                    if (!eventData.isRight) {\n                        templateElement.push(appointmentEndTime);\n                    }\n                }\n            }\n            else {\n                var innerElement = void 0;\n                if (record[this.fields.isAllDay]) {\n                    var allDayString = createElement('div', {\n                        className: cls.APPOINTMENT_TIME, innerHTML: this.parent.localeObj.getConstant('allDay')\n                    });\n                    innerElement = [appointmentSubject, allDayString];\n                }\n                else {\n                    var timeString = this.parent.getTimeString(eventData[this.fields.startTime])\n                        + ' - ' + this.parent.getTimeString(eventData[this.fields.endTime]);\n                    var appTime = createElement('div', {\n                        className: cls.APPOINTMENT_TIME + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : ''), innerHTML: timeString\n                    });\n                    var appLocation = createElement('div', { className: cls.LOCATION_CLASS, innerHTML: eventLocation });\n                    innerElement = [appointmentSubject, appTime, appLocation];\n                }\n                var wrap = createElement('div', { className: 'e-inner-wrap' });\n                append(innerElement, wrap);\n                templateElement = [wrap];\n            }\n        }\n        append(templateElement, appointmentDetails);\n        this.appendEventIcons(record, appointmentDetails);\n        this.renderResizeHandler(appointmentWrapper, record.data, record[this.fields.isReadonly]);\n        return appointmentWrapper;\n    };\n    MonthEvent.prototype.appendEventIcons = function (record, appointmentDetails) {\n        var eventData = record.data;\n        if (!isNullOrUndefined(record[this.fields.recurrenceRule]) || !isNullOrUndefined(record[this.fields.recurrenceID])) {\n            var iconClass = (record[this.fields.id] === record[this.fields.recurrenceID]) ?\n                cls.EVENT_RECURRENCE_ICON_CLASS : cls.EVENT_RECURRENCE_EDIT_ICON_CLASS;\n            appointmentDetails.appendChild(createElement('div', {\n                className: cls.ICON + ' ' + iconClass + (this.parent.isAdaptive ? ' ' + cls.DISABLE_CLASS : '')\n            }));\n        }\n        if (eventData.isLeft) {\n            var iconLeft = createElement('div', {\n                className: cls.EVENT_INDICATOR_CLASS + ' ' + cls.ICON + ' ' + cls.EVENT_ICON_LEFT_CLASS\n            });\n            prepend([iconLeft], appointmentDetails);\n        }\n        if (eventData.isRight) {\n            var iconRight = createElement('div', {\n                className: cls.EVENT_INDICATOR_CLASS + ' ' + cls.ICON + ' ' + cls.EVENT_ICON_RIGHT_CLASS\n            });\n            append([iconRight], appointmentDetails);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    MonthEvent.prototype.renderEvents = function (event, resIndex, eventsList) {\n        var startTime = event[this.fields.startTime];\n        var endTime = event[this.fields.endTime];\n        var day = this.parent.getIndexOfDate(this.dateRender, util.resetTime(startTime));\n        if ((day < 0) || (startTime.getTime() < this.parent.minDate.getTime()) || (endTime.getTime() > this.parent.maxDate.getTime())) {\n            return;\n        }\n        var overlapCount = this.getIndex(startTime);\n        event.Index = overlapCount;\n        var diffInDays = event.data.count;\n        if (startTime.getTime() <= endTime.getTime()) {\n            var appWidth = (diffInDays * this.cellWidth) - 5;\n            var cellTd = this.workCells[parseInt(day.toString(), 10)];\n            var appTop = (overlapCount * (this.eventHeight + EVENT_GAP));\n            var height = this.monthHeaderHeight + ((overlapCount + 1) * (this.eventHeight + EVENT_GAP)) + this.moreIndicatorHeight;\n            var enableAppRender = this.maxOrIndicator ? overlapCount < 1 ? true : false : this.cellHeight > height;\n            if (this.parent.rowAutoHeight || enableAppRender) {\n                this.renderedEvents.push(extend({}, event, null, true));\n                var appointmentElement = void 0;\n                if (this.inlineValue) {\n                    appointmentElement = this.parent.inlineModule.createInlineAppointmentElement();\n                }\n                else {\n                    appointmentElement = this.createAppointmentElement(event, resIndex);\n                }\n                this.applyResourceColor(appointmentElement, event, 'backgroundColor', this.groupOrder);\n                this.wireAppointmentEvents(appointmentElement, event);\n                setStyleAttribute(appointmentElement, { 'width': appWidth + 'px', 'top': appTop + 'px' });\n                this.renderEventElement(event, appointmentElement, cellTd);\n                if (this.parent.rowAutoHeight) {\n                    var firstChild = cellTd.parentElement.firstElementChild;\n                    this.updateCellHeight(firstChild, height);\n                }\n            }\n            else {\n                for (var i = 0; i < diffInDays; i++) {\n                    if (this.workCells[day + i]) {\n                        var indicator = this.workCells[day + i].querySelector('.' + cls.MORE_INDICATOR_CLASS);\n                        if (indicator) {\n                            var count = parseInt(indicator.getAttribute('data-count'), 10) + 1;\n                            indicator.setAttribute('data-count', count.toString());\n                            indicator.innerHTML = this.getMoreIndicatorText(count);\n                        }\n                        else {\n                            var startDate = new Date(this.dateRender[day + i].getTime());\n                            var endDate = util.addDays(this.dateRender[day + i], 1);\n                            var groupIndex = this.workCells[day + i].getAttribute('data-group-index');\n                            var moreIndicatorElement = this.getMoreIndicatorElement(1, startDate, endDate);\n                            if (!isNullOrUndefined(groupIndex)) {\n                                moreIndicatorElement.setAttribute('data-group-index', groupIndex);\n                            }\n                            moreIndicatorElement.style.top = (this.cellHeight - this.monthHeaderHeight - this.moreIndicatorHeight) + 'px';\n                            moreIndicatorElement.style.width = this.cellWidth - 2 + 'px';\n                            this.renderElement(this.workCells[day + i], moreIndicatorElement);\n                            EventHandler.add(moreIndicatorElement, 'click', this.moreIndicatorClick, this);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    MonthEvent.prototype.updateCellHeight = function (cell, height) {\n        if ((height > cell.offsetHeight)) {\n            setStyleAttribute(cell, { 'height': height + 'px' });\n        }\n    };\n    MonthEvent.prototype.updateBlockElements = function () {\n        var blockElement = [].slice.call(this.element.querySelectorAll('.' + cls.BLOCK_APPOINTMENT_CLASS));\n        for (var _i = 0, blockElement_1 = blockElement; _i < blockElement_1.length; _i++) {\n            var element = blockElement_1[_i];\n            var target = closest(element, 'tr');\n            this.monthHeaderHeight = element.offsetParent.offsetTop - target.offsetTop;\n            element.style.height = ((target.offsetHeight - 1) - this.monthHeaderHeight) + 'px';\n            var firstChild = target.firstElementChild;\n            var width = Math.round(element.offsetWidth / firstChild.offsetWidth);\n            element.style.width = (firstChild.offsetWidth * width) + 'px';\n        }\n    };\n    // eslint-disable-next-line max-len\n    MonthEvent.prototype.getFilteredEvents = function (startDate, endDate, groupIndex, eventsList) {\n        var filteredEvents;\n        if (isNullOrUndefined(groupIndex)) {\n            filteredEvents = this.filterEvents(startDate, endDate);\n        }\n        else {\n            var data = this.parent.resourceBase.lastResourceLevel[parseInt(groupIndex, 10)];\n            filteredEvents = this.filterEvents(startDate, endDate, isNullOrUndefined(eventsList) ? undefined : eventsList, data);\n        }\n        return filteredEvents;\n    };\n    MonthEvent.prototype.getOverlapEvents = function (date, appointments) {\n        var appointmentsList = [];\n        var dateTime = util.resetTime(date).getTime();\n        for (var _i = 0, appointments_1 = appointments; _i < appointments_1.length; _i++) {\n            var app = appointments_1[_i];\n            if ((util.resetTime(app[this.fields.startTime]).getTime() <= dateTime) &&\n                (util.resetTime(app[this.fields.endTime]).getTime() >= dateTime)) {\n                appointmentsList.push(app);\n            }\n        }\n        return appointmentsList;\n    };\n    MonthEvent.prototype.getIndex = function (date) {\n        var appIndex = -1;\n        var appointments = this.renderedEvents;\n        if (appointments.length > 0) {\n            var appointmentsList = this.getOverlapEvents(date, appointments);\n            var appLevel = appointmentsList.map(function (obj) { return obj.Index; });\n            appIndex = (appLevel.length > 0) ? this.getSmallestMissingNumber(appLevel) : 0;\n        }\n        return (appIndex === -1) ? 0 : appIndex;\n    };\n    MonthEvent.prototype.moreIndicatorClick = function (event) {\n        var _this = this;\n        var target = closest(event.target, '.' + cls.MORE_INDICATOR_CLASS);\n        var startDate = new Date(parseInt(target.getAttribute('data-start-date'), 10));\n        var endDate = new Date(parseInt(target.getAttribute('data-end-date'), 10));\n        var groupIndex = target.getAttribute('data-group-index');\n        var moreArgs = {\n            cancel: false, event: event, element: target, isPopupOpen: true,\n            startTime: startDate, endTime: endDate, viewName: this.parent.getNavigateView()\n        };\n        if (groupIndex) {\n            moreArgs.groupIndex = parseInt(groupIndex, 10);\n        }\n        this.parent.trigger(events.moreEventsClick, moreArgs, function (clickArgs) {\n            if (!clickArgs.cancel) {\n                if (clickArgs.isPopupOpen) {\n                    var filteredEvents = _this.getFilteredEvents(startDate, endDate, groupIndex);\n                    var moreArgs_1 = { date: startDate, event: filteredEvents, element: event.target };\n                    _this.parent.quickPopup.moreEventClick(moreArgs_1, endDate, groupIndex);\n                }\n                else {\n                    _this.parent.setProperties({ selectedDate: startDate }, true);\n                    _this.parent.changeView(clickArgs.viewName, event);\n                }\n            }\n        });\n    };\n    MonthEvent.prototype.renderEventElement = function (event, appointmentElement, cellTd) {\n        var _this = this;\n        var eventType = appointmentElement.classList.contains(cls.BLOCK_APPOINTMENT_CLASS) ? 'blockEvent' : 'event';\n        var isAppointment = appointmentElement.classList.contains(cls.APPOINTMENT_CLASS);\n        var eventObj = this.getEventData(event);\n        var args = { data: eventObj, element: appointmentElement, cancel: false, type: eventType };\n        this.parent.trigger(events.eventRendered, args, function (eventArgs) {\n            if (eventArgs.cancel) {\n                _this.renderedEvents.pop();\n            }\n            else {\n                _this.renderElement(cellTd, appointmentElement, isAppointment);\n            }\n        });\n    };\n    MonthEvent.prototype.getEventData = function (event) {\n        var eventObj = extend({}, event, null, true);\n        eventObj[this.fields.startTime] = event.data[this.fields.startTime];\n        eventObj[this.fields.endTime] = event.data[this.fields.endTime];\n        return eventObj;\n    };\n    MonthEvent.prototype.renderElement = function (cellTd, element, isAppointment) {\n        if (isAppointment === void 0) { isAppointment = false; }\n        if (this.maxOrIndicator && isAppointment) {\n            this.setMaxEventHeight(element, cellTd);\n        }\n        var wrapperEle = cellTd.querySelector('.' + cls.APPOINTMENT_WRAPPER_CLASS);\n        if (wrapperEle) {\n            wrapperEle.appendChild(element);\n        }\n        else {\n            var wrapper = createElement('div', { className: cls.APPOINTMENT_WRAPPER_CLASS });\n            wrapper.appendChild(element);\n            cellTd.appendChild(wrapper);\n        }\n    };\n    MonthEvent.prototype.getMoreIndicatorElement = function (count, startDate, endDate) {\n        var moreIndicatorElement = createElement('div', {\n            className: cls.MORE_INDICATOR_CLASS,\n            innerHTML: this.getMoreIndicatorText(count),\n            attrs: {\n                'tabindex': '0',\n                'data-count': count.toString(),\n                'data-start-date': startDate.getTime().toString(),\n                'data-end-date': endDate.getTime().toString()\n            }\n        });\n        return moreIndicatorElement;\n    };\n    MonthEvent.prototype.getMoreIndicatorText = function (count) {\n        return '+' + this.parent.globalize.formatNumber(count) + '&nbsp;' + (this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant('more'));\n    };\n    MonthEvent.prototype.removeHeightProperty = function (selector) {\n        var rows = [].slice.call(this.element.querySelectorAll('.' + selector + ' tbody tr'));\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            row.firstElementChild.style.height = '';\n        }\n    };\n    MonthEvent.prototype.setMaxEventHeight = function (event, cell) {\n        var headerHeight = util.getOuterHeight(cell.querySelector('.' + cls.DATE_HEADER_CLASS));\n        var height = (cell.offsetHeight - headerHeight) - (this.maxHeight ? 0 : this.moreIndicatorHeight);\n        setStyleAttribute(event, { 'height': height + 'px', 'align-items': 'center' });\n    };\n    MonthEvent.prototype.destroy = function () {\n        this.element = null;\n        this.fields = null;\n        this.maxHeight = null;\n        this.withIndicator = null;\n        this.maxOrIndicator = null;\n        this.moreIndicatorHeight = null;\n        this.removeEventListener();\n        _super.prototype.destroy.call(this);\n    };\n    return MonthEvent;\n}(EventBase));\nexport { MonthEvent };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}