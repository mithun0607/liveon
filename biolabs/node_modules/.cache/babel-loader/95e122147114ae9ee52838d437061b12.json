{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, addClass, createElement, EventHandler } from '@syncfusion/ej2-base';\nimport { Year } from './year';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * timeline year view\n */\nvar TimelineYear = /** @class */function (_super) {\n  __extends(TimelineYear, _super);\n  function TimelineYear(parent) {\n    var _this = _super.call(this, parent) || this;\n    _this.viewClass = 'e-timeline-year-view';\n    _this.isInverseTableSelect = true;\n    return _this;\n  }\n  TimelineYear.prototype.getModuleName = function () {\n    return 'timelineYear';\n  };\n  TimelineYear.prototype.renderHeader = function (headerWrapper) {\n    var tr = createElement('tr');\n    headerWrapper.appendChild(tr);\n    if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      this.parent.resourceBase.renderResourceHeaderIndent(tr);\n    } else {\n      var leftHeaderCells = createElement('td', {\n        className: cls.LEFT_INDENT_CLASS\n      });\n      tr.appendChild(leftHeaderCells);\n      leftHeaderCells.appendChild(this.renderResourceHeader(cls.LEFT_INDENT_WRAP_CLASS));\n    }\n    var isHorizontal = this.parent.activeViewOptions.orientation === 'Horizontal';\n    var isGroup = this.parent.activeViewOptions.group.resources.length > 0;\n    this.isInverseTableSelect = isHorizontal && !isGroup ? false : true;\n    var td = createElement('td');\n    tr.appendChild(td);\n    var container = createElement('div', {\n      className: cls.DATE_HEADER_CONTAINER_CLASS\n    });\n    td.appendChild(container);\n    if (this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      container.appendChild(this.renderResourceHeader(cls.DATE_HEADER_WRAP_CLASS));\n      this.columnCount = this.colLevels.slice(-1)[0].length;\n    } else {\n      var wrapper = createElement('div', {\n        className: cls.DATE_HEADER_WRAP_CLASS\n      });\n      container.appendChild(wrapper);\n      var table = this.createTableLayout();\n      wrapper.appendChild(table);\n      table.appendChild(this.createTableColGroup(this.columnCount));\n      var innerTr = createElement('tr');\n      table.querySelector('tbody').appendChild(innerTr);\n      var months = this.getMonths();\n      var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n      for (var column = 0; column < this.columnCount; column++) {\n        var date = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(column.toString(), 10)], 1);\n        var innerTd = createElement('td', {\n          className: cls.HEADER_CELLS_CLASS\n        });\n        if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n          if (this.parent.dayHeaderTemplate) {\n            append(this.renderDayMonthHeaderTemplate(dayHeaderDates[parseInt(column.toString(), 10)], column, 'dayHeaderTemplate'), innerTd);\n          } else {\n            innerTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[column % 7] + \"</span>\";\n          }\n        } else {\n          if (this.parent.monthHeaderTemplate) {\n            append(this.renderDayMonthHeaderTemplate(date, months[parseInt(column.toString(), 10)], 'monthHeaderTemplate'), innerTd);\n          } else {\n            innerTd.innerHTML = \"<span>\" + this.getMonthName(date) + \"</span>\";\n          }\n          innerTd.setAttribute('data-date', date.getTime().toString());\n        }\n        innerTr.appendChild(innerTd);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'headerCells',\n          element: innerTd\n        });\n      }\n    }\n  };\n  TimelineYear.prototype.renderResourceHeader = function (className) {\n    var wrap = createElement('div', {\n      className: className\n    });\n    var tbl = this.createTableLayout();\n    wrap.appendChild(tbl);\n    var trEle = createElement('tr');\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      this.colLevels = this.generateColumnLevels();\n    } else {\n      var colData = [{\n        className: [cls.HEADER_CELLS_CLASS],\n        type: 'headerCell'\n      }];\n      this.colLevels = [colData];\n    }\n    for (var _i = 0, _a = this.colLevels; _i < _a.length; _i++) {\n      var col = _a[_i];\n      var ntr = trEle.cloneNode();\n      var count = className === cls.DATE_HEADER_WRAP_CLASS ? col : [col[0]];\n      for (var _b = 0, count_1 = count; _b < count_1.length; _b++) {\n        var c = count_1[_b];\n        var tdEle = createElement('td');\n        if (c.className) {\n          addClass([tdEle], c.className);\n        }\n        if (className === cls.DATE_HEADER_WRAP_CLASS) {\n          if (c.template) {\n            append(c.template, tdEle);\n          }\n          if (c.colSpan) {\n            tdEle.setAttribute('colspan', c.colSpan.toString());\n          }\n          if (c.groupIndex > -1) {\n            tdEle.setAttribute('data-group-index', c.groupIndex.toString());\n          }\n          this.setResourceHeaderContent(tdEle, c);\n        }\n        if (className === cls.LEFT_INDENT_WRAP_CLASS) {\n          this.parent.renderHeaderIndentTemplate(c, tdEle);\n        }\n        var args = {\n          elementType: c.type,\n          element: tdEle,\n          date: c.date,\n          groupIndex: c.groupIndex\n        };\n        this.parent.trigger(event.renderCell, args);\n        ntr.appendChild(tdEle);\n      }\n      tbl.querySelector('tbody').appendChild(ntr);\n    }\n    if (className === cls.DATE_HEADER_WRAP_CLASS) {\n      tbl.appendChild(this.createTableColGroup(this.colLevels.slice(-1)[0].length));\n    }\n    return wrap;\n  };\n  TimelineYear.prototype.renderContent = function (contentWrapper) {\n    var tr = createElement('tr');\n    contentWrapper.appendChild(tr);\n    var firstTd = createElement('td');\n    var lastTd = createElement('td');\n    var tdCollection = [];\n    var monthTBody;\n    if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      tdCollection.push(firstTd);\n      firstTd.appendChild(this.parent.resourceBase.createResourceColumn());\n      this.rowCount = this.parent.resourceBase.renderedResources.length;\n    } else {\n      tdCollection.push(firstTd);\n      var monthWrapper = createElement('div', {\n        className: cls.MONTH_HEADER_WRAPPER\n      });\n      firstTd.appendChild(monthWrapper);\n      monthWrapper.appendChild(this.createTableLayout());\n      monthTBody = monthWrapper.querySelector('tbody');\n    }\n    tdCollection.push(lastTd);\n    append(tdCollection, tr);\n    var content = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    lastTd.appendChild(content);\n    var contentTable = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n    this.setAriaAttributes(contentTable);\n    content.appendChild(contentTable);\n    var eventWrapper = createElement('div', {\n      className: cls.EVENT_TABLE_CLASS\n    });\n    content.appendChild(eventWrapper);\n    if (this.parent.virtualScrollModule) {\n      this.parent.virtualScrollModule.renderVirtualTrack(content);\n    }\n    var contentTBody = contentTable.querySelector('tbody');\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      if (this.parent.rowAutoHeight) {\n        var addClassTable = [contentTable];\n        var monthHeader = this.parent.element.querySelector('.' + cls.MONTH_HEADER_WRAPPER + ' .' + cls.SCHEDULE_TABLE_CLASS);\n        if (monthHeader) {\n          addClassTable.push(monthHeader);\n        }\n        addClass(addClassTable, cls.AUTO_HEIGHT);\n      }\n      var colCount = this.parent.activeViewOptions.orientation === 'Horizontal' ? this.colLevels.slice(-1)[0].length : this.columnCount;\n      contentTable.appendChild(this.createTableColGroup(colCount));\n      this.renderResourceContent(eventWrapper, monthTBody, contentTBody);\n    } else {\n      contentTable.appendChild(this.createTableColGroup(this.columnCount));\n      this.renderDefaultContent(eventWrapper, monthTBody, contentTBody);\n    }\n  };\n  TimelineYear.prototype.renderDefaultContent = function (wrapper, monthBody, contentBody) {\n    var months = this.getMonths();\n    var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n    for (var month = 0; month < this.rowCount; month++) {\n      wrapper.appendChild(createElement('div', {\n        className: cls.APPOINTMENT_CONTAINER_CLASS\n      }));\n      var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(month.toString(), 10)], 1);\n      var monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n      var monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n      var tr = createElement('tr');\n      var monthTr = tr.cloneNode();\n      monthBody.appendChild(monthTr);\n      var contentTr = tr.cloneNode();\n      contentBody.appendChild(contentTr);\n      var monthTd = createElement('td', {\n        className: cls.MONTH_HEADER_CLASS\n      });\n      if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n        if (this.parent.monthHeaderTemplate) {\n          append(this.renderDayMonthHeaderTemplate(monthStart, month, 'monthHeaderTemplate'), monthTd);\n        } else {\n          monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n        }\n        monthTd.setAttribute('data-date', monthDate.getTime().toString());\n      } else {\n        if (this.parent.dayHeaderTemplate) {\n          append(this.renderDayMonthHeaderTemplate(dayHeaderDates[parseInt(month.toString(), 10)], month, 'dayHeaderTemplate'), monthTd);\n        } else {\n          monthTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[month % 7] + \"</span>\";\n        }\n      }\n      monthTr.appendChild(monthTd);\n      this.parent.trigger(event.renderCell, {\n        elementType: 'leftHeaderCells',\n        element: monthTd\n      });\n      var date = new Date(monthStart.getTime());\n      for (var column = 0; column < this.columnCount; column++) {\n        var isDateAvail = void 0;\n        if (this.parent.activeViewOptions.orientation === 'Vertical') {\n          monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(column.toString(), 10)], 1);\n          monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n          monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n          var dayDate = month - monthStart.getDay() + 1;\n          date = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(column.toString(), 10)], dayDate);\n          isDateAvail = dayDate > 0 && date.getTime() < monthEnd.getTime();\n        } else {\n          isDateAvail = column >= monthStart.getDay() && date.getTime() < monthEnd.getTime();\n        }\n        var td = createElement('td', {\n          className: cls.WORK_CELLS_CLASS,\n          attrs: {\n            'aria-selected': 'false'\n          }\n        });\n        contentTr.appendChild(td);\n        var dateHeader = createElement('div', {\n          className: cls.DATE_HEADER_CLASS + ' ' + cls.NAVIGATE_CLASS,\n          innerHTML: isDateAvail ? this.parent.globalize.formatDate(date, {\n            skeleton: 'd',\n            calendar: this.parent.getCalendarMode()\n          }) : ''\n        });\n        var skeleton = 'full';\n        var announcementText = this.parent.globalize.formatDate(date, {\n          skeleton: skeleton,\n          calendar: this.parent.getCalendarMode()\n        });\n        dateHeader.setAttribute('aria-label', announcementText);\n        if (isDateAvail) {\n          var tds = [td];\n          var classList = [];\n          if (this.parent.activeViewOptions.workDays.indexOf(date.getDay()) > -1) {\n            classList.push(cls.WORKDAY_CLASS);\n          }\n          if (!this.parent.isMinMaxDate(date)) {\n            addClass([td], cls.DISABLE_DATES);\n          }\n          if (this.isCurrentDate(date)) {\n            classList.push(cls.CURRENT_DAY_CLASS);\n            if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n              tds.push(this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + (\":nth-child(\" + (column + 1) + \")\")));\n            } else {\n              tds.push(this.element.querySelectorAll('.' + cls.MONTH_HEADER_CLASS).item(month));\n            }\n          }\n          if (classList.length > 0) {\n            addClass(tds, classList);\n          }\n        } else {\n          addClass([td], cls.OTHERMONTH_CLASS);\n          if (!this.parent.isMinMaxDate(date)) {\n            addClass([td], cls.DISABLE_DATES);\n          }\n        }\n        if (td.classList.contains(cls.OTHERMONTH_CLASS)) {\n          continue;\n        }\n        td.appendChild(dateHeader);\n        if (isDateAvail) {\n          td.setAttribute('data-date', date.getTime().toString());\n          this.wireEvents(td);\n        }\n        this.renderCellTemplate({\n          date: date,\n          type: 'workCells'\n        }, td);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'workCells',\n          element: td,\n          date: date\n        });\n        if (isDateAvail) {\n          if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n            date = util.addDays(new Date(date.getTime()), 1);\n          }\n        }\n      }\n    }\n  };\n  TimelineYear.prototype.getContentRows = function () {\n    var tRow = [];\n    var monthCells = this.getMonths();\n    for (var row = 0; row < this.parent.resourceBase.renderedResources.length; row++) {\n      var tr = createElement('tr');\n      tRow.push(tr);\n      var resData = void 0;\n      if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n        resData = this.parent.resourceBase.renderedResources[parseInt(row.toString(), 10)];\n      }\n      var monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[parseInt(row.toString(), 10)], 1);\n      var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n      for (var month = 0; month < this.columnCount; month++) {\n        var classList = [];\n        var groupIndex = resData.groupIndex;\n        classList = classList.concat(resData.className);\n        if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n          classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n        } else {\n          classList.push(cls.WORKDAY_CLASS);\n        }\n        monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[parseInt(month.toString(), 10)], 1);\n        date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n        var tdELe = createElement('td', {\n          className: cls.WORK_CELLS_CLASS,\n          attrs: {\n            'aria-selected': 'false',\n            'data-date': date.getTime().toString()\n          }\n        });\n        addClass([tdELe], classList);\n        tdELe.setAttribute('data-group-index', groupIndex.toString());\n        this.renderCellTemplate({\n          date: date,\n          type: 'resourceGroupCells',\n          groupIndex: groupIndex\n        }, tdELe);\n        this.wireEvents(tdELe);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'resourceGroupCells',\n          element: tdELe,\n          date: date\n        });\n        tr.appendChild(tdELe);\n      }\n    }\n    return tRow;\n  };\n  TimelineYear.prototype.renderResourceContent = function (wrapper, monthBody, contentBody) {\n    var months = this.getMonths();\n    for (var row = 0; row < this.rowCount; row++) {\n      wrapper.appendChild(createElement('div', {\n        className: cls.APPOINTMENT_CONTAINER_CLASS\n      }));\n      var tr = createElement('tr');\n      contentBody.appendChild(tr);\n      var resData = void 0;\n      if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n        resData = this.parent.resourceBase.renderedResources[parseInt(row.toString(), 10)];\n      }\n      var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(row.toString(), 10)], 1);\n      var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n      if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n        var monthTr = tr.cloneNode();\n        monthBody.appendChild(monthTr);\n        var monthTd = createElement('td', {\n          className: cls.MONTH_HEADER_CLASS,\n          attrs: {\n            'data-date': date.getTime().toString()\n          }\n        });\n        if (this.parent.monthHeaderTemplate) {\n          append(this.renderDayMonthHeaderTemplate(monthDate, row, 'monthHeaderTemplate'), monthTd);\n        } else {\n          monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n        }\n        monthTr.appendChild(monthTd);\n      }\n      for (var month = 0; month < this.columnCount; month++) {\n        var classList = [];\n        var groupIndex = void 0;\n        if (this.parent.activeViewOptions.orientation === 'Vertical') {\n          groupIndex = resData.groupIndex;\n          classList = classList.concat(resData.className);\n          if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n            classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n          } else {\n            classList.push(cls.WORKDAY_CLASS);\n          }\n          monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(month.toString(), 10)], 1);\n          date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n        } else {\n          groupIndex = this.colLevels.slice(-1)[0][parseInt(month.toString(), 10)].groupIndex;\n          classList.push(cls.WORKDAY_CLASS);\n        }\n        var td = createElement('td', {\n          className: cls.WORK_CELLS_CLASS,\n          attrs: {\n            'aria-selected': 'false',\n            'data-date': date.getTime().toString()\n          }\n        });\n        addClass([td], classList);\n        td.setAttribute('data-group-index', groupIndex.toString());\n        this.renderCellTemplate({\n          date: date,\n          type: 'resourceGroupCells',\n          groupIndex: groupIndex\n        }, td);\n        this.wireEvents(td);\n        tr.appendChild(td);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'resourceGroupCells',\n          element: td,\n          date: date\n        });\n      }\n    }\n    if (this.parent.activeViewOptions.orientation === 'Vertical') {\n      this.collapseRows(this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS));\n    }\n  };\n  TimelineYear.prototype.renderDayMonthHeaderTemplate = function (date, column, type) {\n    var args = {\n      date: date,\n      type: type === 'dayHeaderTemplate' ? 'dayHeader' : 'monthHeader'\n    };\n    var dayId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"dayHeaderTemplate\";\n    var monthId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"monthHeaderTemplate\";\n    if (type === 'dayHeaderTemplate') {\n      args.day = this.parent.getDayNames('wide')[column % 7];\n      return [].slice.call(this.parent.getDayHeaderTemplate()(args, this.parent, 'dayHeaderTemplate', dayId, false));\n    } else {\n      return [].slice.call(this.parent.getMonthHeaderTemplate()(args, this.parent, 'monthHeaderTemplate', monthId, false));\n    }\n  };\n  TimelineYear.prototype.renderCellTemplate = function (data, td) {\n    if (!this.parent.activeViewOptions.cellTemplate || td.classList.contains(cls.OTHERMONTH_CLASS)) {\n      return;\n    }\n    var args = {\n      date: data.date,\n      type: data.type\n    };\n    if (data.groupIndex) {\n      args.groupIndex = data.groupIndex;\n    }\n    var scheduleId = this.parent.element.id + '_';\n    var viewName = this.parent.activeViewOptions.cellTemplateName;\n    var templateId = scheduleId + viewName + 'cellTemplate';\n    var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args, this.parent, 'cellTemplate', templateId, false));\n    append(cellTemplate, td);\n  };\n  TimelineYear.prototype.scrollToDate = function (scrollDate) {\n    var date;\n    if (this.parent.activeViewOptions.group.resources !== null && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      date = +new Date(util.resetTime(util.firstDateOfMonth(scrollDate)));\n    } else {\n      date = +new Date(util.resetTime(scrollDate));\n    }\n    var element = this.element.querySelector('[data-date=\"' + date + '\"]');\n    if (element) {\n      var wrap = this.getScrollableElement();\n      if (this.parent.enableRtl) {\n        var conTable = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n        wrap.scrollLeft = -(conTable.offsetWidth - element.offsetLeft - element.offsetWidth);\n      } else {\n        wrap.scrollLeft = element.offsetLeft;\n      }\n      wrap.scrollTop = element.offsetTop;\n    }\n  };\n  TimelineYear.prototype.getScrollableElement = function () {\n    if (this.parent.isAdaptive && !this.isTimelineView()) {\n      return this.element.querySelector('.' + cls.SCROLL_CONTAINER_CLASS);\n    } else {\n      return this.getContentAreaElement();\n    }\n  };\n  TimelineYear.prototype.wireEvents = function (element) {\n    EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n    EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n    if (!this.parent.isAdaptive) {\n      EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n    }\n  };\n  return TimelineYear;\n}(Year);\nexport { TimelineYear };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","append","addClass","createElement","EventHandler","Year","event","cls","util","TimelineYear","_super","parent","_this","call","viewClass","isInverseTableSelect","getModuleName","renderHeader","headerWrapper","tr","appendChild","activeViewOptions","orientation","group","resources","length","uiStateValues","isGroupAdaptive","resourceBase","renderResourceHeaderIndent","leftHeaderCells","className","LEFT_INDENT_CLASS","renderResourceHeader","LEFT_INDENT_WRAP_CLASS","isHorizontal","isGroup","td","container","DATE_HEADER_CONTAINER_CLASS","DATE_HEADER_WRAP_CLASS","columnCount","colLevels","slice","wrapper","table","createTableLayout","createTableColGroup","innerTr","querySelector","months","getMonths","dayHeaderDates","getMonthDates","Date","selectedDate","getFullYear","column","date","parseInt","toString","innerTd","HEADER_CELLS_CLASS","dayHeaderTemplate","renderDayMonthHeaderTemplate","innerHTML","getDayNames","monthHeaderTemplate","getMonthName","setAttribute","getTime","trigger","renderCell","elementType","element","wrap","tbl","trEle","generateColumnLevels","colData","type","_i","_a","col","ntr","cloneNode","count","_b","count_1","c","tdEle","template","colSpan","groupIndex","setResourceHeaderContent","renderHeaderIndentTemplate","args","renderContent","contentWrapper","firstTd","lastTd","tdCollection","monthTBody","push","createResourceColumn","rowCount","renderedResources","monthWrapper","MONTH_HEADER_WRAPPER","content","CONTENT_WRAP_CLASS","contentTable","CONTENT_TABLE_CLASS","setAriaAttributes","eventWrapper","EVENT_TABLE_CLASS","virtualScrollModule","renderVirtualTrack","contentTBody","rowAutoHeight","addClassTable","monthHeader","SCHEDULE_TABLE_CLASS","AUTO_HEIGHT","colCount","renderResourceContent","renderDefaultContent","monthBody","contentBody","month","APPOINTMENT_CONTAINER_CLASS","monthDate","monthStart","calendarUtil","getMonthStartDate","monthEnd","getMonthEndDate","monthTr","contentTr","monthTd","MONTH_HEADER_CLASS","isDateAvail","dayDate","getDay","WORK_CELLS_CLASS","attrs","dateHeader","DATE_HEADER_CLASS","NAVIGATE_CLASS","globalize","formatDate","skeleton","calendar","getCalendarMode","announcementText","tds","classList","workDays","indexOf","WORKDAY_CLASS","isMinMaxDate","DISABLE_DATES","isCurrentDate","CURRENT_DAY_CLASS","querySelectorAll","item","OTHERMONTH_CLASS","contains","wireEvents","renderCellTemplate","addDays","getContentRows","tRow","monthCells","row","resData","concat","RESOURCE_PARENT_CLASS","RESOURCE_GROUP_CELLS_CLASS","tdELe","collapseRows","dayId","dayHeaderTemplateName","monthId","day","getDayHeaderTemplate","getMonthHeaderTemplate","data","cellTemplate","scheduleId","id","viewName","cellTemplateName","templateId","getCellTemplate","scrollToDate","scrollDate","resetTime","firstDateOfMonth","getScrollableElement","enableRtl","conTable","scrollLeft","offsetWidth","offsetLeft","scrollTop","offsetTop","isAdaptive","isTimelineView","SCROLL_CONTAINER_CLASS","getContentAreaElement","add","workCellAction","cellMouseDown","cellClick","cellDblClick"],"sources":["D:/xampp/htdocs/biolabs/biolabs/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/timeline-year.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, addClass, createElement, EventHandler } from '@syncfusion/ej2-base';\nimport { Year } from './year';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\nimport * as util from '../base/util';\n/**\n * timeline year view\n */\nvar TimelineYear = /** @class */ (function (_super) {\n    __extends(TimelineYear, _super);\n    function TimelineYear(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-timeline-year-view';\n        _this.isInverseTableSelect = true;\n        return _this;\n    }\n    TimelineYear.prototype.getModuleName = function () {\n        return 'timelineYear';\n    };\n    TimelineYear.prototype.renderHeader = function (headerWrapper) {\n        var tr = createElement('tr');\n        headerWrapper.appendChild(tr);\n        if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            this.parent.resourceBase.renderResourceHeaderIndent(tr);\n        }\n        else {\n            var leftHeaderCells = createElement('td', { className: cls.LEFT_INDENT_CLASS });\n            tr.appendChild(leftHeaderCells);\n            leftHeaderCells.appendChild(this.renderResourceHeader(cls.LEFT_INDENT_WRAP_CLASS));\n        }\n        var isHorizontal = this.parent.activeViewOptions.orientation === 'Horizontal';\n        var isGroup = this.parent.activeViewOptions.group.resources.length > 0;\n        this.isInverseTableSelect = isHorizontal && !isGroup ? false : true;\n        var td = createElement('td');\n        tr.appendChild(td);\n        var container = createElement('div', { className: cls.DATE_HEADER_CONTAINER_CLASS });\n        td.appendChild(container);\n        if (this.parent.activeViewOptions.orientation === 'Horizontal' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            container.appendChild(this.renderResourceHeader(cls.DATE_HEADER_WRAP_CLASS));\n            this.columnCount = this.colLevels.slice(-1)[0].length;\n        }\n        else {\n            var wrapper = createElement('div', { className: cls.DATE_HEADER_WRAP_CLASS });\n            container.appendChild(wrapper);\n            var table = this.createTableLayout();\n            wrapper.appendChild(table);\n            table.appendChild(this.createTableColGroup(this.columnCount));\n            var innerTr = createElement('tr');\n            table.querySelector('tbody').appendChild(innerTr);\n            var months = this.getMonths();\n            var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n            for (var column = 0; column < this.columnCount; column++) {\n                var date = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(column.toString(), 10)], 1);\n                var innerTd = createElement('td', { className: cls.HEADER_CELLS_CLASS });\n                if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                    if (this.parent.dayHeaderTemplate) {\n                        append(this.renderDayMonthHeaderTemplate(dayHeaderDates[parseInt(column.toString(), 10)], column, 'dayHeaderTemplate'), innerTd);\n                    }\n                    else {\n                        innerTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[column % 7] + \"</span>\";\n                    }\n                }\n                else {\n                    if (this.parent.monthHeaderTemplate) {\n                        append(this.renderDayMonthHeaderTemplate(date, months[parseInt(column.toString(), 10)], 'monthHeaderTemplate'), innerTd);\n                    }\n                    else {\n                        innerTd.innerHTML = \"<span>\" + this.getMonthName(date) + \"</span>\";\n                    }\n                    innerTd.setAttribute('data-date', date.getTime().toString());\n                }\n                innerTr.appendChild(innerTd);\n                this.parent.trigger(event.renderCell, { elementType: 'headerCells', element: innerTd });\n            }\n        }\n    };\n    TimelineYear.prototype.renderResourceHeader = function (className) {\n        var wrap = createElement('div', { className: className });\n        var tbl = this.createTableLayout();\n        wrap.appendChild(tbl);\n        var trEle = createElement('tr');\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.colLevels = this.generateColumnLevels();\n        }\n        else {\n            var colData = [{ className: [cls.HEADER_CELLS_CLASS], type: 'headerCell' }];\n            this.colLevels = [colData];\n        }\n        for (var _i = 0, _a = this.colLevels; _i < _a.length; _i++) {\n            var col = _a[_i];\n            var ntr = trEle.cloneNode();\n            var count = className === cls.DATE_HEADER_WRAP_CLASS ? col : [col[0]];\n            for (var _b = 0, count_1 = count; _b < count_1.length; _b++) {\n                var c = count_1[_b];\n                var tdEle = createElement('td');\n                if (c.className) {\n                    addClass([tdEle], c.className);\n                }\n                if (className === cls.DATE_HEADER_WRAP_CLASS) {\n                    if (c.template) {\n                        append(c.template, tdEle);\n                    }\n                    if (c.colSpan) {\n                        tdEle.setAttribute('colspan', c.colSpan.toString());\n                    }\n                    if (c.groupIndex > -1) {\n                        tdEle.setAttribute('data-group-index', c.groupIndex.toString());\n                    }\n                    this.setResourceHeaderContent(tdEle, c);\n                }\n                if (className === cls.LEFT_INDENT_WRAP_CLASS) {\n                    this.parent.renderHeaderIndentTemplate(c, tdEle);\n                }\n                var args = { elementType: c.type, element: tdEle, date: c.date, groupIndex: c.groupIndex };\n                this.parent.trigger(event.renderCell, args);\n                ntr.appendChild(tdEle);\n            }\n            tbl.querySelector('tbody').appendChild(ntr);\n        }\n        if (className === cls.DATE_HEADER_WRAP_CLASS) {\n            tbl.appendChild(this.createTableColGroup(this.colLevels.slice(-1)[0].length));\n        }\n        return wrap;\n    };\n    TimelineYear.prototype.renderContent = function (contentWrapper) {\n        var tr = createElement('tr');\n        contentWrapper.appendChild(tr);\n        var firstTd = createElement('td');\n        var lastTd = createElement('td');\n        var tdCollection = [];\n        var monthTBody;\n        if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            tdCollection.push(firstTd);\n            firstTd.appendChild(this.parent.resourceBase.createResourceColumn());\n            this.rowCount = this.parent.resourceBase.renderedResources.length;\n        }\n        else {\n            tdCollection.push(firstTd);\n            var monthWrapper = createElement('div', { className: cls.MONTH_HEADER_WRAPPER });\n            firstTd.appendChild(monthWrapper);\n            monthWrapper.appendChild(this.createTableLayout());\n            monthTBody = monthWrapper.querySelector('tbody');\n        }\n        tdCollection.push(lastTd);\n        append(tdCollection, tr);\n        var content = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        lastTd.appendChild(content);\n        var contentTable = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.setAriaAttributes(contentTable);\n        content.appendChild(contentTable);\n        var eventWrapper = createElement('div', { className: cls.EVENT_TABLE_CLASS });\n        content.appendChild(eventWrapper);\n        if (this.parent.virtualScrollModule) {\n            this.parent.virtualScrollModule.renderVirtualTrack(content);\n        }\n        var contentTBody = contentTable.querySelector('tbody');\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            if (this.parent.rowAutoHeight) {\n                var addClassTable = [contentTable];\n                var monthHeader = this.parent.element.querySelector('.' + cls.MONTH_HEADER_WRAPPER + ' .' + cls.SCHEDULE_TABLE_CLASS);\n                if (monthHeader) {\n                    addClassTable.push(monthHeader);\n                }\n                addClass(addClassTable, cls.AUTO_HEIGHT);\n            }\n            var colCount = this.parent.activeViewOptions.orientation === 'Horizontal' ? this.colLevels.slice(-1)[0].length : this.columnCount;\n            contentTable.appendChild(this.createTableColGroup(colCount));\n            this.renderResourceContent(eventWrapper, monthTBody, contentTBody);\n        }\n        else {\n            contentTable.appendChild(this.createTableColGroup(this.columnCount));\n            this.renderDefaultContent(eventWrapper, monthTBody, contentTBody);\n        }\n    };\n    TimelineYear.prototype.renderDefaultContent = function (wrapper, monthBody, contentBody) {\n        var months = this.getMonths();\n        var dayHeaderDates = this.getMonthDates(new Date(this.parent.selectedDate.getFullYear(), months[0], 1));\n        for (var month = 0; month < this.rowCount; month++) {\n            wrapper.appendChild(createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS }));\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(month.toString(), 10)], 1);\n            var monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            var monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n            var tr = createElement('tr');\n            var monthTr = tr.cloneNode();\n            monthBody.appendChild(monthTr);\n            var contentTr = tr.cloneNode();\n            contentBody.appendChild(contentTr);\n            var monthTd = createElement('td', { className: cls.MONTH_HEADER_CLASS });\n            if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                if (this.parent.monthHeaderTemplate) {\n                    append(this.renderDayMonthHeaderTemplate(monthStart, month, 'monthHeaderTemplate'), monthTd);\n                }\n                else {\n                    monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n                }\n                monthTd.setAttribute('data-date', monthDate.getTime().toString());\n            }\n            else {\n                if (this.parent.dayHeaderTemplate) {\n                    append(this.renderDayMonthHeaderTemplate(dayHeaderDates[parseInt(month.toString(), 10)], month, 'dayHeaderTemplate'), monthTd);\n                }\n                else {\n                    monthTd.innerHTML = \"<span>\" + this.parent.getDayNames('abbreviated')[month % 7] + \"</span>\";\n                }\n            }\n            monthTr.appendChild(monthTd);\n            this.parent.trigger(event.renderCell, { elementType: 'leftHeaderCells', element: monthTd });\n            var date = new Date(monthStart.getTime());\n            for (var column = 0; column < this.columnCount; column++) {\n                var isDateAvail = void 0;\n                if (this.parent.activeViewOptions.orientation === 'Vertical') {\n                    monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(column.toString(), 10)], 1);\n                    monthStart = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n                    monthEnd = this.parent.calendarUtil.getMonthEndDate(new Date(monthDate.getTime()));\n                    var dayDate = (month - monthStart.getDay()) + 1;\n                    date = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(column.toString(), 10)], dayDate);\n                    isDateAvail = dayDate > 0 && date.getTime() < monthEnd.getTime();\n                }\n                else {\n                    isDateAvail = column >= monthStart.getDay() && date.getTime() < monthEnd.getTime();\n                }\n                var td = createElement('td', {\n                    className: cls.WORK_CELLS_CLASS, attrs: { 'aria-selected': 'false' }\n                });\n                contentTr.appendChild(td);\n                var dateHeader = createElement('div', {\n                    className: cls.DATE_HEADER_CLASS + ' ' + cls.NAVIGATE_CLASS,\n                    innerHTML: (isDateAvail) ?\n                        this.parent.globalize.formatDate(date, { skeleton: 'd', calendar: this.parent.getCalendarMode() }) : ''\n                });\n                var skeleton = 'full';\n                var announcementText = this.parent.globalize.formatDate(date, {\n                    skeleton: skeleton, calendar: this.parent.getCalendarMode()\n                });\n                dateHeader.setAttribute('aria-label', announcementText);\n                if (isDateAvail) {\n                    var tds = [td];\n                    var classList = [];\n                    if (this.parent.activeViewOptions.workDays.indexOf(date.getDay()) > -1) {\n                        classList.push(cls.WORKDAY_CLASS);\n                    }\n                    if (!this.parent.isMinMaxDate(date)) {\n                        addClass([td], cls.DISABLE_DATES);\n                    }\n                    if (this.isCurrentDate(date)) {\n                        classList.push(cls.CURRENT_DAY_CLASS);\n                        if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                            tds.push(this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + (\":nth-child(\" + (column + 1) + \")\")));\n                        }\n                        else {\n                            tds.push(this.element.querySelectorAll('.' + cls.MONTH_HEADER_CLASS).item(month));\n                        }\n                    }\n                    if (classList.length > 0) {\n                        addClass(tds, classList);\n                    }\n                }\n                else {\n                    addClass([td], cls.OTHERMONTH_CLASS);\n                    if (!this.parent.isMinMaxDate(date)) {\n                        addClass([td], cls.DISABLE_DATES);\n                    }\n                }\n                if (td.classList.contains(cls.OTHERMONTH_CLASS)) {\n                    continue;\n                }\n                td.appendChild(dateHeader);\n                if (isDateAvail) {\n                    td.setAttribute('data-date', date.getTime().toString());\n                    this.wireEvents(td);\n                }\n                this.renderCellTemplate({ date: date, type: 'workCells' }, td);\n                this.parent.trigger(event.renderCell, { elementType: 'workCells', element: td, date: date });\n                if (isDateAvail) {\n                    if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                        date = util.addDays(new Date(date.getTime()), 1);\n                    }\n                }\n            }\n        }\n    };\n    TimelineYear.prototype.getContentRows = function () {\n        var tRow = [];\n        var monthCells = this.getMonths();\n        for (var row = 0; row < this.parent.resourceBase.renderedResources.length; row++) {\n            var tr = createElement('tr');\n            tRow.push(tr);\n            var resData = void 0;\n            if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                resData = this.parent.resourceBase.renderedResources[parseInt(row.toString(), 10)];\n            }\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[parseInt(row.toString(), 10)], 1);\n            var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            for (var month = 0; month < this.columnCount; month++) {\n                var classList = [];\n                var groupIndex = resData.groupIndex;\n                classList = classList.concat(resData.className);\n                if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n                    classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n                }\n                else {\n                    classList.push(cls.WORKDAY_CLASS);\n                }\n                monthDate = new Date(this.parent.selectedDate.getFullYear(), monthCells[parseInt(month.toString(), 10)], 1);\n                date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n                var tdELe = createElement('td', {\n                    className: cls.WORK_CELLS_CLASS,\n                    attrs: {\n                        'aria-selected': 'false',\n                        'data-date': date.getTime().toString()\n                    }\n                });\n                addClass([tdELe], classList);\n                tdELe.setAttribute('data-group-index', groupIndex.toString());\n                this.renderCellTemplate({ date: date, type: 'resourceGroupCells', groupIndex: groupIndex }, tdELe);\n                this.wireEvents(tdELe);\n                this.parent.trigger(event.renderCell, { elementType: 'resourceGroupCells', element: tdELe, date: date });\n                tr.appendChild(tdELe);\n            }\n        }\n        return tRow;\n    };\n    TimelineYear.prototype.renderResourceContent = function (wrapper, monthBody, contentBody) {\n        var months = this.getMonths();\n        for (var row = 0; row < this.rowCount; row++) {\n            wrapper.appendChild(createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS }));\n            var tr = createElement('tr');\n            contentBody.appendChild(tr);\n            var resData = void 0;\n            if (this.parent.activeViewOptions.orientation === 'Vertical' && this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n                resData = this.parent.resourceBase.renderedResources[parseInt(row.toString(), 10)];\n            }\n            var monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(row.toString(), 10)], 1);\n            var date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n            if (this.parent.activeViewOptions.orientation === 'Horizontal') {\n                var monthTr = tr.cloneNode();\n                monthBody.appendChild(monthTr);\n                var monthTd = createElement('td', {\n                    className: cls.MONTH_HEADER_CLASS,\n                    attrs: { 'data-date': date.getTime().toString() }\n                });\n                if (this.parent.monthHeaderTemplate) {\n                    append(this.renderDayMonthHeaderTemplate(monthDate, row, 'monthHeaderTemplate'), monthTd);\n                }\n                else {\n                    monthTd.innerHTML = \"<span>\" + this.getMonthName(monthDate) + \"</span>\";\n                }\n                monthTr.appendChild(monthTd);\n            }\n            for (var month = 0; month < this.columnCount; month++) {\n                var classList = [];\n                var groupIndex = void 0;\n                if (this.parent.activeViewOptions.orientation === 'Vertical') {\n                    groupIndex = resData.groupIndex;\n                    classList = classList.concat(resData.className);\n                    if (classList.indexOf(cls.RESOURCE_PARENT_CLASS) > -1) {\n                        classList.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n                    }\n                    else {\n                        classList.push(cls.WORKDAY_CLASS);\n                    }\n                    monthDate = new Date(this.parent.selectedDate.getFullYear(), months[parseInt(month.toString(), 10)], 1);\n                    date = this.parent.calendarUtil.getMonthStartDate(new Date(monthDate.getTime()));\n                }\n                else {\n                    groupIndex = this.colLevels.slice(-1)[0][parseInt(month.toString(), 10)].groupIndex;\n                    classList.push(cls.WORKDAY_CLASS);\n                }\n                var td = createElement('td', {\n                    className: cls.WORK_CELLS_CLASS,\n                    attrs: {\n                        'aria-selected': 'false',\n                        'data-date': date.getTime().toString()\n                    }\n                });\n                addClass([td], classList);\n                td.setAttribute('data-group-index', groupIndex.toString());\n                this.renderCellTemplate({ date: date, type: 'resourceGroupCells', groupIndex: groupIndex }, td);\n                this.wireEvents(td);\n                tr.appendChild(td);\n                this.parent.trigger(event.renderCell, { elementType: 'resourceGroupCells', element: td, date: date });\n            }\n        }\n        if (this.parent.activeViewOptions.orientation === 'Vertical') {\n            this.collapseRows(this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS));\n        }\n    };\n    TimelineYear.prototype.renderDayMonthHeaderTemplate = function (date, column, type) {\n        var args = { date: date, type: type === 'dayHeaderTemplate' ? 'dayHeader' : 'monthHeader' };\n        var dayId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"dayHeaderTemplate\";\n        var monthId = \"schedule_\" + this.parent.activeViewOptions.dayHeaderTemplateName + \"monthHeaderTemplate\";\n        if (type === 'dayHeaderTemplate') {\n            args.day = this.parent.getDayNames('wide')[column % 7];\n            return [].slice.call(this.parent.getDayHeaderTemplate()(args, this.parent, 'dayHeaderTemplate', dayId, false));\n        }\n        else {\n            return [].slice.call(this.parent.getMonthHeaderTemplate()(args, this.parent, 'monthHeaderTemplate', monthId, false));\n        }\n    };\n    TimelineYear.prototype.renderCellTemplate = function (data, td) {\n        if (!this.parent.activeViewOptions.cellTemplate || td.classList.contains(cls.OTHERMONTH_CLASS)) {\n            return;\n        }\n        var args = { date: data.date, type: data.type };\n        if (data.groupIndex) {\n            args.groupIndex = data.groupIndex;\n        }\n        var scheduleId = this.parent.element.id + '_';\n        var viewName = this.parent.activeViewOptions.cellTemplateName;\n        var templateId = scheduleId + viewName + 'cellTemplate';\n        var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args, this.parent, 'cellTemplate', templateId, false));\n        append(cellTemplate, td);\n    };\n    TimelineYear.prototype.scrollToDate = function (scrollDate) {\n        var date;\n        if (this.parent.activeViewOptions.group.resources !== null && this.parent.activeViewOptions.group.resources.length > 0 &&\n            !this.parent.uiStateValues.isGroupAdaptive) {\n            date = +new Date(util.resetTime(util.firstDateOfMonth(scrollDate)));\n        }\n        else {\n            date = +new Date(util.resetTime(scrollDate));\n        }\n        var element = this.element.querySelector('[data-date=\"' + date + '\"]');\n        if (element) {\n            var wrap = this.getScrollableElement();\n            if (this.parent.enableRtl) {\n                var conTable = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS);\n                wrap.scrollLeft = -(conTable.offsetWidth - element.offsetLeft - element.offsetWidth);\n            }\n            else {\n                wrap.scrollLeft = element.offsetLeft;\n            }\n            wrap.scrollTop = element.offsetTop;\n        }\n    };\n    TimelineYear.prototype.getScrollableElement = function () {\n        if (this.parent.isAdaptive && !this.isTimelineView()) {\n            return this.element.querySelector('.' + cls.SCROLL_CONTAINER_CLASS);\n        }\n        else {\n            return this.getContentAreaElement();\n        }\n    };\n    TimelineYear.prototype.wireEvents = function (element) {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n    };\n    return TimelineYear;\n}(Year));\nexport { TimelineYear };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}