{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, createElement, addClass, closest, prepend, append, extend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { YearEvent } from '../event-renderer/year';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * year view\n */\nvar Year = /** @class */function (_super) {\n  __extends(Year, _super);\n  function Year(parent) {\n    var _this = _super.call(this, parent) || this;\n    _this.viewClass = 'e-year-view';\n    _this.isInverseTableSelect = false;\n    _this.yearEventModule = null;\n    return _this;\n  }\n  Year.prototype.getModuleName = function () {\n    return 'year';\n  };\n  Year.prototype.renderLayout = function (className) {\n    if (this.parent.resourceBase) {\n      this.parent.resourceBase.generateResourceLevels([{\n        renderDates: this.parent.activeView.renderDates\n      }]);\n    }\n    this.setPanel(createElement('div', {\n      className: cls.TABLE_WRAP_CLASS\n    }));\n    var viewTypeClass = this.parent.activeViewOptions.orientation === 'Horizontal' ? 'e-horizontal' : 'e-vertical';\n    addClass([this.element], [this.viewClass, viewTypeClass, className]);\n    this.renderPanel(className);\n    if (this.parent.activeViewOptions.allowVirtualScrolling) {\n      addClass([this.element], [cls.VIRTUAL_SCROLL_CLASS]);\n    }\n    var calendarTable = this.createTableLayout(cls.OUTER_TABLE_CLASS);\n    this.element.appendChild(calendarTable);\n    this.element.querySelector('table').setAttribute('role', 'presentation');\n    var calendarTBody = calendarTable.querySelector('tbody');\n    this.rowCount = this.getRowColumnCount('row');\n    this.columnCount = this.getRowColumnCount('column');\n    this.renderHeader(calendarTBody);\n    this.renderContent(calendarTBody);\n    if (this.parent.currentView !== 'Year' && this.parent.uiStateValues.isGroupAdaptive) {\n      this.generateColumnLevels();\n      this.renderResourceMobileLayout();\n    }\n    EventHandler.add(this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS), 'scroll', this.onContentScroll, this);\n    this.parent.notify(event.contentReady, {});\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Year.prototype.renderHeader = function (headerWrapper) {};\n  Year.prototype.renderContent = function (content) {\n    var tr = createElement('tr');\n    content.appendChild(tr);\n    var td = createElement('td');\n    tr.appendChild(td);\n    this.element.querySelector('tbody').appendChild(tr);\n    var contentWrapper = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    td.appendChild(contentWrapper);\n    var calendarTable = this.createTableLayout('e-calendar-table');\n    contentWrapper.appendChild(calendarTable);\n    var cTr = createElement('tr');\n    calendarTable.querySelector('tbody').appendChild(cTr);\n    var cTd = createElement('td');\n    cTr.appendChild(cTd);\n    var calendarWrapper = createElement('div', {\n      className: 'e-calendar-wrapper'\n    });\n    cTd.appendChild(calendarWrapper);\n    var months = this.getMonths();\n    for (var _i = 0, months_1 = months; _i < months_1.length; _i++) {\n      var month = months_1[_i];\n      var currentMonth = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n      var calendarElement = createElement('div', {\n        className: 'e-month-calendar e-calendar',\n        attrs: {\n          'data-role': 'calendar'\n        }\n      });\n      calendarElement.appendChild(this.renderCalendarHeader(currentMonth));\n      calendarElement.appendChild(this.renderCalendarContent(currentMonth));\n      calendarWrapper.appendChild(calendarElement);\n    }\n  };\n  Year.prototype.renderCalendarHeader = function (currentDate) {\n    var headerWrapper = createElement('div', {\n      className: 'e-header e-month'\n    });\n    var headerContent = createElement('div', {\n      className: 'e-day e-title'\n    });\n    if (this.parent.activeViewOptions.monthHeaderTemplate) {\n      var args = {\n        date: currentDate,\n        type: 'monthHeader'\n      };\n      this.renderTemplates(this.parent.getMonthHeaderTemplate(), args, 'monthHeaderTemplate', this.parent.activeViewOptions.monthHeaderTemplateName, headerContent);\n    } else {\n      headerContent.innerHTML = this.getMonthName(currentDate);\n    }\n    headerWrapper.appendChild(headerContent);\n    this.parent.trigger(event.renderCell, {\n      elementType: 'headerCells',\n      element: headerContent,\n      date: currentDate\n    });\n    return headerWrapper;\n  };\n  Year.prototype.renderCalendarContent = function (currentDate) {\n    var dateCollection = this.getMonthDates(currentDate);\n    var contentWrapper = createElement('div', {\n      className: 'e-content e-month'\n    });\n    var contentTable = this.createTableLayout('e-calendar-table ' + cls.CONTENT_TABLE_CLASS);\n    contentWrapper.appendChild(contentTable);\n    this.setAriaAttributes(contentTable);\n    var thead = createElement('thead', {\n      className: 'e-week-header'\n    });\n    var tr = createElement('tr');\n    var currentWeek = util.getWeekFirstDate(util.firstDateOfMonth(currentDate), this.parent.firstDayOfWeek);\n    if (this.parent.activeViewOptions.showWeekNumber) {\n      tr.appendChild(createElement('th'));\n    }\n    for (var i = 0; i < util.WEEK_LENGTH; i++) {\n      if (this.parent.activeViewOptions.dayHeaderTemplate) {\n        var th = createElement('th');\n        var args = {\n          date: currentWeek,\n          type: 'dayHeader'\n        };\n        this.renderTemplates(this.parent.getDayHeaderTemplate(), args, 'dayHeaderTemplate', this.parent.activeViewOptions.dayHeaderTemplateName, th);\n        tr.appendChild(th);\n      } else {\n        tr.appendChild(createElement('th', {\n          innerHTML: this.parent.getDayNames('narrow')[currentWeek.getDay()]\n        }));\n      }\n      currentWeek = new Date(currentWeek.getTime() + util.MS_PER_DAY);\n    }\n    thead.appendChild(tr);\n    prepend([thead], contentTable);\n    var tbody = contentTable.querySelector('tbody');\n    while (dateCollection.length > 0) {\n      var weekDates = dateCollection.splice(0, util.WEEK_LENGTH);\n      var tr_1 = createElement('tr');\n      if (this.parent.activeViewOptions.showWeekNumber) {\n        var weekNumber = this.parent.getWeekNumberContent(weekDates);\n        var td = createElement('td', {\n          className: 'e-week-number',\n          attrs: {\n            'title': this.parent.localeObj.getConstant('week') + ' ' + weekNumber\n          },\n          innerHTML: weekNumber\n        });\n        tr_1.appendChild(td);\n        this.parent.trigger(event.renderCell, {\n          elementType: 'weekNumberCells',\n          element: td\n        });\n      }\n      for (var _i = 0, weekDates_1 = weekDates; _i < weekDates_1.length; _i++) {\n        var date = weekDates_1[_i];\n        var td = createElement('td', {\n          className: 'e-cell ' + cls.WORK_CELLS_CLASS,\n          attrs: {\n            'aria-selected': 'false',\n            'data-date': date.getTime().toString()\n          }\n        });\n        if (this.parent.activeViewOptions.cellHeaderTemplate) {\n          var args = {\n            date: date,\n            type: 'monthCells'\n          };\n          this.renderTemplates(this.parent.getCellHeaderTemplate(), args, 'cellHeaderTemplate', this.parent.activeViewOptions.cellHeaderTemplateName, td);\n        } else {\n          var span = createElement('span', {\n            className: 'e-day',\n            innerHTML: this.parent.globalize.formatDate(date, {\n              skeleton: 'd',\n              calendar: this.parent.getCalendarMode()\n            }),\n            attrs: {\n              title: this.parent.globalize.formatDate(date, {\n                type: 'date',\n                skeleton: 'full'\n              })\n            }\n          });\n          td.appendChild(span);\n        }\n        if (this.parent.activeViewOptions.cellTemplate) {\n          var args = {\n            date: date,\n            type: 'monthCells'\n          };\n          this.renderTemplates(this.parent.getCellTemplate(), args, 'cellTemplate', this.parent.activeViewOptions.cellTemplateName, td);\n        }\n        var classList = [];\n        if (currentDate.getMonth() !== date.getMonth()) {\n          classList.push(cls.OTHERMONTH_CLASS);\n        }\n        if (this.isCurrentDate(date) && currentDate.getMonth() === date.getMonth()) {\n          classList = classList.concat(['e-today', 'e-selected']);\n        }\n        if (classList.length > 0) {\n          addClass([td], classList);\n        }\n        tr_1.appendChild(td);\n        if (!this.parent.isMinMaxDate(date)) {\n          addClass([td], cls.DISABLE_DATES);\n        } else {\n          EventHandler.add(td, 'click', this.onCellClick, this);\n          if (!this.parent.isAdaptive) {\n            EventHandler.add(td, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n          }\n        }\n        this.parent.trigger(event.renderCell, {\n          elementType: 'workCells',\n          element: td,\n          date: date\n        });\n      }\n      tbody.appendChild(tr_1);\n    }\n    return contentWrapper;\n  };\n  Year.prototype.createTableColGroup = function (count) {\n    var colGroupEle = createElement('colgroup');\n    for (var i = 0; i < count; i++) {\n      colGroupEle.appendChild(createElement('col'));\n    }\n    return colGroupEle;\n  };\n  Year.prototype.getMonthName = function (date) {\n    var month = this.parent.globalize.formatDate(date, {\n      format: this.parent.activeViewOptions.dateFormat || 'MMMM y',\n      calendar: this.parent.getCalendarMode()\n    });\n    return util.capitalizeFirstWord(month, 'multiple');\n  };\n  Year.prototype.generateColumnLevels = function () {\n    var colLevels = [];\n    var level = this.getDateSlots([this.parent.selectedDate], this.parent.activeViewOptions.workDays);\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      colLevels = this.parent.resourceBase.generateResourceLevels(level);\n      if (this.parent.uiStateValues.isGroupAdaptive) {\n        var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n        colLevels = [this.getDateSlots([this.parent.selectedDate], resourceLevel.workDays)];\n      }\n    } else {\n      colLevels.push(level);\n    }\n    colLevels.pop();\n    this.colLevels = colLevels;\n    return colLevels;\n  };\n  // eslint-disable-next-line max-len\n  Year.prototype.getDateSlots = function (renderDates, workDays, startHour, endHour) {\n    if (startHour === void 0) {\n      startHour = this.parent.workHours.start;\n    }\n    if (endHour === void 0) {\n      endHour = this.parent.workHours.end;\n    }\n    var dateCol = [{\n      date: renderDates[0],\n      type: 'dateHeader',\n      className: [cls.HEADER_CELLS_CLASS],\n      colSpan: 1,\n      workDays: workDays,\n      startHour: new Date(+this.parent.globalize.parseDate(startHour, {\n        skeleton: 'Hm'\n      })),\n      endHour: new Date(+this.parent.globalize.parseDate(endHour, {\n        skeleton: 'Hm'\n      }))\n    }];\n    return dateCol;\n  };\n  Year.prototype.getMonthDates = function (date) {\n    var startDate = util.getWeekFirstDate(util.firstDateOfMonth(date), this.parent.firstDayOfWeek);\n    var endDate = util.addDays(new Date(+startDate), 6 * util.WEEK_LENGTH);\n    var dateCollection = [];\n    for (var start = startDate; start.getTime() < endDate.getTime(); start = util.addDays(start, 1)) {\n      dateCollection.push(util.resetTime(new Date(start)));\n    }\n    return dateCollection;\n  };\n  Year.prototype.getRowColumnCount = function (type) {\n    var months = this.getMonths();\n    var year = this.parent.selectedDate.getFullYear();\n    var monthDaysCount = [];\n    for (var _i = 0, months_2 = months; _i < months_2.length; _i++) {\n      var month = months_2[_i];\n      monthDaysCount.push(new Date(year, month, 1).getDay() + new Date(year, month + 1, 0).getDate());\n    }\n    var maxCount = Math.max.apply(Math, monthDaysCount);\n    var count;\n    if (type === 'row') {\n      count = this.parent.activeViewOptions.orientation === 'Horizontal' ? months.length : maxCount;\n    } else {\n      count = this.parent.activeViewOptions.orientation === 'Horizontal' ? maxCount : months.length;\n    }\n    return count;\n  };\n  Year.prototype.isCurrentDate = function (date) {\n    return util.resetTime(new Date()).getTime() === util.resetTime(new Date(date.getTime())).getTime();\n  };\n  Year.prototype.getMonths = function () {\n    var _this = this;\n    // eslint-disable-next-line prefer-spread\n    return Array.apply(null, {\n      length: this.parent.activeViewOptions.monthsCount\n    }).map(function (value, index) {\n      return _this.parent.firstMonthOfYear + index;\n    });\n  };\n  Year.prototype.renderTemplates = function (fn, args, tName, vName, ele) {\n    var templateId = this.parent.element.id + '_' + vName + tName;\n    var template = [].slice.call(fn(args, this.parent, tName, templateId, false));\n    append(template, ele);\n  };\n  Year.prototype.onCellClick = function (e) {\n    var target = closest(e.target, '.' + cls.WORK_CELLS_CLASS);\n    var startDate = this.parent.getDateFromElement(target);\n    this.parent.activeCellsData = this.parent.getCellDetails(target);\n    var isPrevious = startDate.getTime() < this.getStartDate().getTime();\n    if (isPrevious || startDate.getTime() > this.getEndDate().getTime()) {\n      this.parent.changeDate(this.parent.activeView.getNextPreviousDate(isPrevious ? 'previous' : 'next'), e);\n      var activeDate = this.parent.activeCellsData.startTime.getTime();\n      var inRange = activeDate >= this.getStartDate().getTime() && activeDate <= this.getEndDate().getTime();\n      var dateAttr = inRange ? activeDate : (isPrevious ? this.getEndDate() : this.getStartDate()).getTime();\n      var selectedCell = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + dateAttr + '\"]');\n      this.parent.selectCell(selectedCell);\n      this.parent.activeCellsData = this.parent.getCellDetails(selectedCell);\n    } else {\n      var endDate = util.addDays(new Date(startDate.getTime()), 1);\n      var filteredEvents = this.parent.eventBase.filterEvents(startDate, endDate);\n      var moreEventArgs = {\n        date: startDate,\n        event: filteredEvents,\n        element: e.target\n      };\n      if (target.classList.contains(cls.OTHERMONTH_CLASS)) {\n        target = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + target.getAttribute('data-date') + '\"]');\n      }\n      this.parent.activeCellsData = this.parent.getCellDetails(target);\n      var args = extend(this.parent.activeCellsData, {\n        cancel: false,\n        event: e,\n        name: 'cellClick'\n      });\n      this.parent.trigger(event.cellClick, args);\n      this.parent.quickPopup.moreEventClick(moreEventArgs, endDate);\n    }\n  };\n  Year.prototype.onContentScroll = function (e) {\n    var target = e.target;\n    var headerWrapper = this.getDatesHeaderElement();\n    this.parent.notify(event.virtualScroll, e);\n    if (headerWrapper) {\n      headerWrapper.firstElementChild.scrollLeft = target.scrollLeft;\n    }\n    var scrollTopSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n    var scrollTopElement = this.element.querySelector(scrollTopSelector);\n    if (scrollTopElement) {\n      scrollTopElement.scrollTop = target.scrollTop;\n    }\n    if (!this.parent.isAdaptive) {\n      this.parent.uiStateValues.top = e.target.scrollTop;\n    }\n    this.parent.uiStateValues.left = e.target.scrollLeft;\n    this.setPersistence();\n  };\n  Year.prototype.onScrollUiUpdate = function (args) {\n    var height = this.parent.element.offsetHeight - this.getHeaderBarHeight();\n    var headerWrapper = this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n    if (headerWrapper) {\n      height -= headerWrapper.offsetHeight;\n    }\n    var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    if (contentWrapper) {\n      contentWrapper.style.height = formatUnit(height);\n    }\n    if (!this.parent.isAdaptive && headerWrapper) {\n      var scrollBarWidth = util.getScrollBarWidth();\n      if (contentWrapper.offsetWidth - contentWrapper.clientWidth > 0) {\n        headerWrapper.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n        headerWrapper.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n      } else {\n        headerWrapper.firstElementChild.style[args.cssProperties.border] = '';\n        headerWrapper.style[args.cssProperties.padding] = '';\n      }\n    }\n    this.setColWidth(this.getContentAreaElement());\n    var leftPanelSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n    var leftPanelElement = this.element.querySelector(leftPanelSelector);\n    if (leftPanelElement) {\n      var isYScroll = contentWrapper.scrollWidth > contentWrapper.clientWidth;\n      leftPanelElement.style.height = formatUnit(height - (isYScroll ? 17 : 0));\n    }\n    if (!args.isPreventScrollUpdate) {\n      if (this.parent.uiStateValues.isInitial) {\n        this.parent.uiStateValues.isInitial = false;\n        this.parent.uiStateValues.top = this.parent.uiStateValues.left = 0;\n      } else {\n        if (leftPanelElement) {\n          leftPanelElement.scrollTop = this.parent.uiStateValues.top;\n        }\n        contentWrapper.scrollTop = this.parent.uiStateValues.top;\n        contentWrapper.scrollLeft = this.parent.uiStateValues.left;\n      }\n    }\n    this.retainScrollPosition();\n  };\n  Year.prototype.getStartDate = function () {\n    return new Date(this.parent.selectedDate.getFullYear(), this.parent.firstMonthOfYear % 12, 1);\n  };\n  Year.prototype.getEndDate = function () {\n    return util.addDays(util.addMonths(this.getStartDate(), this.parent.monthsCount), -1);\n  };\n  Year.prototype.startDate = function () {\n    return this.parent.currentView === 'Year' ? util.getWeekFirstDate(this.getStartDate(), this.parent.firstDayOfWeek) : this.getStartDate();\n  };\n  Year.prototype.endDate = function () {\n    return this.parent.currentView === 'Year' ? util.addDays(util.getWeekLastDate(this.getEndDate(), this.parent.firstDayOfWeek), 1) : util.addDays(this.getEndDate(), 1);\n  };\n  Year.prototype.getEndDateFromStartDate = function (start) {\n    var date = new Date(start.getTime());\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      date = util.lastDateOfMonth(date);\n    }\n    return util.addDays(new Date(date.getTime()), 1);\n  };\n  Year.prototype.getNextPreviousDate = function (type) {\n    return util.addYears(this.parent.selectedDate, type === 'next' ? 1 : -1);\n  };\n  Year.prototype.getDateRangeText = function () {\n    var startDate = this.getStartDate();\n    var endDate = this.getEndDate();\n    if (startDate.getFullYear() !== endDate.getFullYear()) {\n      return this.parent.globalize.formatDate(startDate, {\n        skeleton: 'yMMM'\n      }) + ' - ' + this.parent.globalize.formatDate(endDate, {\n        skeleton: 'yMMM'\n      });\n    } else {\n      return this.parent.globalize.formatDate(this.parent.selectedDate, {\n        skeleton: 'y'\n      });\n    }\n  };\n  Year.prototype.addEventListener = function () {\n    this.parent.on(event.scrollUiUpdate, this.onScrollUiUpdate, this);\n    this.parent.on(event.dataReady, this.onDataReady, this);\n  };\n  Year.prototype.removeEventListener = function () {\n    if (this.parent) {\n      this.parent.off(event.scrollUiUpdate, this.onScrollUiUpdate);\n      this.parent.off(event.dataReady, this.onDataReady);\n    }\n  };\n  Year.prototype.onDataReady = function (args) {\n    this.yearEventModule = new YearEvent(this.parent);\n    this.yearEventModule.renderAppointments();\n    this.parent.notify(event.eventsLoaded, args);\n  };\n  Year.prototype.scrollToDate = function (scrollDate) {\n    var date = +new Date(util.resetTime(scrollDate));\n    var element = this.element.querySelector('.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + date + '\"]');\n    if (element) {\n      element = closest(element, '.e-month-calendar');\n      this.getContentAreaElement().scrollTop = element.offsetTop;\n    }\n  };\n  Year.prototype.destroy = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    if (this.element) {\n      var contentScroll = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n      if (contentScroll) {\n        EventHandler.remove(contentScroll, 'scroll', this.onContentScroll);\n      }\n      if (this.yearEventModule) {\n        this.yearEventModule.destroy();\n        this.yearEventModule = null;\n      }\n      if (this.parent.resourceBase) {\n        this.parent.resourceBase.destroy();\n      }\n      _super.prototype.destroy.call(this);\n    }\n  };\n  return Year;\n}(ViewBase);\nexport { Year };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","EventHandler","formatUnit","createElement","addClass","closest","prepend","append","extend","ViewBase","YearEvent","util","event","cls","Year","_super","parent","_this","call","viewClass","isInverseTableSelect","yearEventModule","getModuleName","renderLayout","className","resourceBase","generateResourceLevels","renderDates","activeView","setPanel","TABLE_WRAP_CLASS","viewTypeClass","activeViewOptions","orientation","element","renderPanel","allowVirtualScrolling","VIRTUAL_SCROLL_CLASS","calendarTable","createTableLayout","OUTER_TABLE_CLASS","appendChild","querySelector","setAttribute","calendarTBody","rowCount","getRowColumnCount","columnCount","renderHeader","renderContent","currentView","uiStateValues","isGroupAdaptive","generateColumnLevels","renderResourceMobileLayout","add","CONTENT_WRAP_CLASS","onContentScroll","notify","contentReady","headerWrapper","content","tr","td","contentWrapper","cTr","cTd","calendarWrapper","months","getMonths","_i","months_1","length","month","currentMonth","Date","selectedDate","getFullYear","calendarElement","attrs","renderCalendarHeader","renderCalendarContent","currentDate","headerContent","monthHeaderTemplate","args","date","type","renderTemplates","getMonthHeaderTemplate","monthHeaderTemplateName","innerHTML","getMonthName","trigger","renderCell","elementType","dateCollection","getMonthDates","contentTable","CONTENT_TABLE_CLASS","setAriaAttributes","thead","currentWeek","getWeekFirstDate","firstDateOfMonth","firstDayOfWeek","showWeekNumber","i","WEEK_LENGTH","dayHeaderTemplate","th","getDayHeaderTemplate","dayHeaderTemplateName","getDayNames","getDay","getTime","MS_PER_DAY","tbody","weekDates","splice","tr_1","weekNumber","getWeekNumberContent","localeObj","getConstant","weekDates_1","WORK_CELLS_CLASS","toString","cellHeaderTemplate","getCellHeaderTemplate","cellHeaderTemplateName","span","globalize","formatDate","skeleton","calendar","getCalendarMode","title","cellTemplate","getCellTemplate","cellTemplateName","classList","getMonth","push","OTHERMONTH_CLASS","isCurrentDate","concat","isMinMaxDate","DISABLE_DATES","onCellClick","isAdaptive","workCellAction","cellDblClick","createTableColGroup","count","colGroupEle","format","dateFormat","capitalizeFirstWord","colLevels","level","getDateSlots","workDays","group","resources","resourceLevel","lastResourceLevel","groupIndex","pop","startHour","endHour","workHours","start","end","dateCol","HEADER_CELLS_CLASS","colSpan","parseDate","startDate","endDate","addDays","resetTime","year","monthDaysCount","months_2","getDate","maxCount","Math","max","apply","monthsCount","map","value","index","firstMonthOfYear","fn","tName","vName","ele","templateId","id","template","slice","e","target","getDateFromElement","activeCellsData","getCellDetails","isPrevious","getStartDate","getEndDate","changeDate","getNextPreviousDate","activeDate","startTime","inRange","dateAttr","selectedCell","selectCell","filteredEvents","eventBase","filterEvents","moreEventArgs","contains","getAttribute","cancel","name","cellClick","quickPopup","moreEventClick","getDatesHeaderElement","virtualScroll","firstElementChild","scrollLeft","scrollTopSelector","MONTH_HEADER_WRAPPER","RESOURCE_COLUMN_WRAP_CLASS","scrollTopElement","scrollTop","top","left","setPersistence","onScrollUiUpdate","height","offsetHeight","getHeaderBarHeight","DATE_HEADER_CONTAINER_CLASS","style","scrollBarWidth","getScrollBarWidth","offsetWidth","clientWidth","cssProperties","border","padding","setColWidth","getContentAreaElement","leftPanelSelector","leftPanelElement","isYScroll","scrollWidth","isPreventScrollUpdate","isInitial","retainScrollPosition","addMonths","getWeekLastDate","getEndDateFromStartDate","lastDateOfMonth","addYears","getDateRangeText","addEventListener","on","scrollUiUpdate","dataReady","onDataReady","removeEventListener","off","renderAppointments","eventsLoaded","scrollToDate","scrollDate","offsetTop","destroy","isDestroyed","contentScroll","remove"],"sources":["D:/xampp/htdocs/biolabs/biolabs/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/year.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, createElement, addClass, closest, prepend, append, extend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { YearEvent } from '../event-renderer/year';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * year view\n */\nvar Year = /** @class */ (function (_super) {\n    __extends(Year, _super);\n    function Year(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.viewClass = 'e-year-view';\n        _this.isInverseTableSelect = false;\n        _this.yearEventModule = null;\n        return _this;\n    }\n    Year.prototype.getModuleName = function () {\n        return 'year';\n    };\n    Year.prototype.renderLayout = function (className) {\n        if (this.parent.resourceBase) {\n            this.parent.resourceBase.generateResourceLevels([{ renderDates: this.parent.activeView.renderDates }]);\n        }\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var viewTypeClass = this.parent.activeViewOptions.orientation === 'Horizontal' ? 'e-horizontal' : 'e-vertical';\n        addClass([this.element], [this.viewClass, viewTypeClass, className]);\n        this.renderPanel(className);\n        if (this.parent.activeViewOptions.allowVirtualScrolling) {\n            addClass([this.element], [cls.VIRTUAL_SCROLL_CLASS]);\n        }\n        var calendarTable = this.createTableLayout(cls.OUTER_TABLE_CLASS);\n        this.element.appendChild(calendarTable);\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        var calendarTBody = calendarTable.querySelector('tbody');\n        this.rowCount = this.getRowColumnCount('row');\n        this.columnCount = this.getRowColumnCount('column');\n        this.renderHeader(calendarTBody);\n        this.renderContent(calendarTBody);\n        if (this.parent.currentView !== 'Year' && this.parent.uiStateValues.isGroupAdaptive) {\n            this.generateColumnLevels();\n            this.renderResourceMobileLayout();\n        }\n        EventHandler.add(this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS), 'scroll', this.onContentScroll, this);\n        this.parent.notify(event.contentReady, {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Year.prototype.renderHeader = function (headerWrapper) { };\n    Year.prototype.renderContent = function (content) {\n        var tr = createElement('tr');\n        content.appendChild(tr);\n        var td = createElement('td');\n        tr.appendChild(td);\n        this.element.querySelector('tbody').appendChild(tr);\n        var contentWrapper = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        td.appendChild(contentWrapper);\n        var calendarTable = this.createTableLayout('e-calendar-table');\n        contentWrapper.appendChild(calendarTable);\n        var cTr = createElement('tr');\n        calendarTable.querySelector('tbody').appendChild(cTr);\n        var cTd = createElement('td');\n        cTr.appendChild(cTd);\n        var calendarWrapper = createElement('div', { className: 'e-calendar-wrapper' });\n        cTd.appendChild(calendarWrapper);\n        var months = this.getMonths();\n        for (var _i = 0, months_1 = months; _i < months_1.length; _i++) {\n            var month = months_1[_i];\n            var currentMonth = new Date(this.parent.selectedDate.getFullYear(), month, 1);\n            var calendarElement = createElement('div', {\n                className: 'e-month-calendar e-calendar',\n                attrs: { 'data-role': 'calendar' }\n            });\n            calendarElement.appendChild(this.renderCalendarHeader(currentMonth));\n            calendarElement.appendChild(this.renderCalendarContent(currentMonth));\n            calendarWrapper.appendChild(calendarElement);\n        }\n    };\n    Year.prototype.renderCalendarHeader = function (currentDate) {\n        var headerWrapper = createElement('div', { className: 'e-header e-month' });\n        var headerContent = createElement('div', { className: 'e-day e-title' });\n        if (this.parent.activeViewOptions.monthHeaderTemplate) {\n            var args = { date: currentDate, type: 'monthHeader' };\n            this.renderTemplates(this.parent.getMonthHeaderTemplate(), args, 'monthHeaderTemplate', this.parent.activeViewOptions.monthHeaderTemplateName, headerContent);\n        }\n        else {\n            headerContent.innerHTML = this.getMonthName(currentDate);\n        }\n        headerWrapper.appendChild(headerContent);\n        this.parent.trigger(event.renderCell, { elementType: 'headerCells', element: headerContent, date: currentDate });\n        return headerWrapper;\n    };\n    Year.prototype.renderCalendarContent = function (currentDate) {\n        var dateCollection = this.getMonthDates(currentDate);\n        var contentWrapper = createElement('div', { className: 'e-content e-month' });\n        var contentTable = this.createTableLayout('e-calendar-table ' + cls.CONTENT_TABLE_CLASS);\n        contentWrapper.appendChild(contentTable);\n        this.setAriaAttributes(contentTable);\n        var thead = createElement('thead', { className: 'e-week-header' });\n        var tr = createElement('tr');\n        var currentWeek = util.getWeekFirstDate(util.firstDateOfMonth(currentDate), this.parent.firstDayOfWeek);\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(createElement('th'));\n        }\n        for (var i = 0; i < util.WEEK_LENGTH; i++) {\n            if (this.parent.activeViewOptions.dayHeaderTemplate) {\n                var th = createElement('th');\n                var args = { date: currentWeek, type: 'dayHeader' };\n                this.renderTemplates(this.parent.getDayHeaderTemplate(), args, 'dayHeaderTemplate', this.parent.activeViewOptions.dayHeaderTemplateName, th);\n                tr.appendChild(th);\n            }\n            else {\n                tr.appendChild(createElement('th', { innerHTML: this.parent.getDayNames('narrow')[currentWeek.getDay()] }));\n            }\n            currentWeek = new Date(currentWeek.getTime() + util.MS_PER_DAY);\n        }\n        thead.appendChild(tr);\n        prepend([thead], contentTable);\n        var tbody = contentTable.querySelector('tbody');\n        while (dateCollection.length > 0) {\n            var weekDates = dateCollection.splice(0, util.WEEK_LENGTH);\n            var tr_1 = createElement('tr');\n            if (this.parent.activeViewOptions.showWeekNumber) {\n                var weekNumber = this.parent.getWeekNumberContent(weekDates);\n                var td = createElement('td', {\n                    className: 'e-week-number',\n                    attrs: { 'title': this.parent.localeObj.getConstant('week') + ' ' + weekNumber },\n                    innerHTML: weekNumber\n                });\n                tr_1.appendChild(td);\n                this.parent.trigger(event.renderCell, { elementType: 'weekNumberCells', element: td });\n            }\n            for (var _i = 0, weekDates_1 = weekDates; _i < weekDates_1.length; _i++) {\n                var date = weekDates_1[_i];\n                var td = createElement('td', {\n                    className: 'e-cell ' + cls.WORK_CELLS_CLASS,\n                    attrs: { 'aria-selected': 'false', 'data-date': date.getTime().toString() }\n                });\n                if (this.parent.activeViewOptions.cellHeaderTemplate) {\n                    var args = { date: date, type: 'monthCells' };\n                    this.renderTemplates(this.parent.getCellHeaderTemplate(), args, 'cellHeaderTemplate', this.parent.activeViewOptions.cellHeaderTemplateName, td);\n                }\n                else {\n                    var span = createElement('span', {\n                        className: 'e-day', innerHTML: this.parent.globalize.formatDate(date, { skeleton: 'd', calendar: this.parent.getCalendarMode() }),\n                        attrs: { title: this.parent.globalize.formatDate(date, { type: 'date', skeleton: 'full' }) }\n                    });\n                    td.appendChild(span);\n                }\n                if (this.parent.activeViewOptions.cellTemplate) {\n                    var args = { date: date, type: 'monthCells' };\n                    this.renderTemplates(this.parent.getCellTemplate(), args, 'cellTemplate', this.parent.activeViewOptions.cellTemplateName, td);\n                }\n                var classList = [];\n                if (currentDate.getMonth() !== date.getMonth()) {\n                    classList.push(cls.OTHERMONTH_CLASS);\n                }\n                if (this.isCurrentDate(date) && currentDate.getMonth() === date.getMonth()) {\n                    classList = classList.concat(['e-today', 'e-selected']);\n                }\n                if (classList.length > 0) {\n                    addClass([td], classList);\n                }\n                tr_1.appendChild(td);\n                if (!this.parent.isMinMaxDate(date)) {\n                    addClass([td], cls.DISABLE_DATES);\n                }\n                else {\n                    EventHandler.add(td, 'click', this.onCellClick, this);\n                    if (!this.parent.isAdaptive) {\n                        EventHandler.add(td, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n                    }\n                }\n                this.parent.trigger(event.renderCell, { elementType: 'workCells', element: td, date: date });\n            }\n            tbody.appendChild(tr_1);\n        }\n        return contentWrapper;\n    };\n    Year.prototype.createTableColGroup = function (count) {\n        var colGroupEle = createElement('colgroup');\n        for (var i = 0; i < count; i++) {\n            colGroupEle.appendChild(createElement('col'));\n        }\n        return colGroupEle;\n    };\n    Year.prototype.getMonthName = function (date) {\n        var month = this.parent.globalize.formatDate(date, {\n            format: this.parent.activeViewOptions.dateFormat || 'MMMM y',\n            calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(month, 'multiple');\n    };\n    Year.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots([this.parent.selectedDate], this.parent.activeViewOptions.workDays);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            colLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.uiStateValues.isGroupAdaptive) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                colLevels = [this.getDateSlots([this.parent.selectedDate], resourceLevel.workDays)];\n            }\n        }\n        else {\n            colLevels.push(level);\n        }\n        colLevels.pop();\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    // eslint-disable-next-line max-len\n    Year.prototype.getDateSlots = function (renderDates, workDays, startHour, endHour) {\n        if (startHour === void 0) { startHour = this.parent.workHours.start; }\n        if (endHour === void 0) { endHour = this.parent.workHours.end; }\n        var dateCol = [{\n                date: renderDates[0], type: 'dateHeader', className: [cls.HEADER_CELLS_CLASS], colSpan: 1, workDays: workDays,\n                startHour: new Date(+this.parent.globalize.parseDate(startHour, { skeleton: 'Hm' })),\n                endHour: new Date(+this.parent.globalize.parseDate(endHour, { skeleton: 'Hm' }))\n            }];\n        return dateCol;\n    };\n    Year.prototype.getMonthDates = function (date) {\n        var startDate = util.getWeekFirstDate(util.firstDateOfMonth(date), this.parent.firstDayOfWeek);\n        var endDate = util.addDays(new Date(+startDate), (6 * util.WEEK_LENGTH));\n        var dateCollection = [];\n        for (var start = startDate; start.getTime() < endDate.getTime(); start = util.addDays(start, 1)) {\n            dateCollection.push(util.resetTime(new Date(start)));\n        }\n        return dateCollection;\n    };\n    Year.prototype.getRowColumnCount = function (type) {\n        var months = this.getMonths();\n        var year = this.parent.selectedDate.getFullYear();\n        var monthDaysCount = [];\n        for (var _i = 0, months_2 = months; _i < months_2.length; _i++) {\n            var month = months_2[_i];\n            monthDaysCount.push(new Date(year, month, 1).getDay() + new Date(year, month + 1, 0).getDate());\n        }\n        var maxCount = Math.max.apply(Math, monthDaysCount);\n        var count;\n        if (type === 'row') {\n            count = this.parent.activeViewOptions.orientation === 'Horizontal' ? months.length : maxCount;\n        }\n        else {\n            count = this.parent.activeViewOptions.orientation === 'Horizontal' ? maxCount : months.length;\n        }\n        return count;\n    };\n    Year.prototype.isCurrentDate = function (date) {\n        return util.resetTime(new Date()).getTime() === util.resetTime(new Date(date.getTime())).getTime();\n    };\n    Year.prototype.getMonths = function () {\n        var _this = this;\n        // eslint-disable-next-line prefer-spread\n        return Array.apply(null, { length: this.parent.activeViewOptions.monthsCount }).map(function (value, index) {\n            return _this.parent.firstMonthOfYear + index;\n        });\n    };\n    Year.prototype.renderTemplates = function (fn, args, tName, vName, ele) {\n        var templateId = this.parent.element.id + '_' + vName + tName;\n        var template = [].slice.call(fn(args, this.parent, tName, templateId, false));\n        append(template, ele);\n    };\n    Year.prototype.onCellClick = function (e) {\n        var target = closest(e.target, '.' + cls.WORK_CELLS_CLASS);\n        var startDate = this.parent.getDateFromElement(target);\n        this.parent.activeCellsData = this.parent.getCellDetails(target);\n        var isPrevious = startDate.getTime() < this.getStartDate().getTime();\n        if (isPrevious || startDate.getTime() > this.getEndDate().getTime()) {\n            this.parent.changeDate(this.parent.activeView.getNextPreviousDate(isPrevious ? 'previous' : 'next'), e);\n            var activeDate = this.parent.activeCellsData.startTime.getTime();\n            var inRange = activeDate >= this.getStartDate().getTime() && activeDate <= this.getEndDate().getTime();\n            var dateAttr = inRange ? activeDate : (isPrevious ? this.getEndDate() : this.getStartDate()).getTime();\n            var selectedCell = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + dateAttr + '\"]');\n            this.parent.selectCell(selectedCell);\n            this.parent.activeCellsData = this.parent.getCellDetails(selectedCell);\n        }\n        else {\n            var endDate = util.addDays(new Date(startDate.getTime()), 1);\n            var filteredEvents = this.parent.eventBase.filterEvents(startDate, endDate);\n            var moreEventArgs = { date: startDate, event: filteredEvents, element: e.target };\n            if (target.classList.contains(cls.OTHERMONTH_CLASS)) {\n                target = this.parent.element.querySelector(':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + target.getAttribute('data-date') + '\"]');\n            }\n            this.parent.activeCellsData = this.parent.getCellDetails(target);\n            var args = extend(this.parent.activeCellsData, { cancel: false, event: e, name: 'cellClick' });\n            this.parent.trigger(event.cellClick, args);\n            this.parent.quickPopup.moreEventClick(moreEventArgs, endDate);\n        }\n    };\n    Year.prototype.onContentScroll = function (e) {\n        var target = e.target;\n        var headerWrapper = this.getDatesHeaderElement();\n        this.parent.notify(event.virtualScroll, e);\n        if (headerWrapper) {\n            headerWrapper.firstElementChild.scrollLeft = target.scrollLeft;\n        }\n        var scrollTopSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n        var scrollTopElement = this.element.querySelector(scrollTopSelector);\n        if (scrollTopElement) {\n            scrollTopElement.scrollTop = target.scrollTop;\n        }\n        if (!this.parent.isAdaptive) {\n            this.parent.uiStateValues.top = e.target.scrollTop;\n        }\n        this.parent.uiStateValues.left = e.target.scrollLeft;\n        this.setPersistence();\n    };\n    Year.prototype.onScrollUiUpdate = function (args) {\n        var height = this.parent.element.offsetHeight - this.getHeaderBarHeight();\n        var headerWrapper = this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n        if (headerWrapper) {\n            height -= headerWrapper.offsetHeight;\n        }\n        var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (contentWrapper) {\n            contentWrapper.style.height = formatUnit(height);\n        }\n        if (!this.parent.isAdaptive && headerWrapper) {\n            var scrollBarWidth = util.getScrollBarWidth();\n            if (contentWrapper.offsetWidth - contentWrapper.clientWidth > 0) {\n                headerWrapper.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n                headerWrapper.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n            }\n            else {\n                headerWrapper.firstElementChild.style[args.cssProperties.border] = '';\n                headerWrapper.style[args.cssProperties.padding] = '';\n            }\n        }\n        this.setColWidth(this.getContentAreaElement());\n        var leftPanelSelector = \".\" + cls.MONTH_HEADER_WRAPPER + \",.\" + cls.RESOURCE_COLUMN_WRAP_CLASS;\n        var leftPanelElement = this.element.querySelector(leftPanelSelector);\n        if (leftPanelElement) {\n            var isYScroll = contentWrapper.scrollWidth > contentWrapper.clientWidth;\n            leftPanelElement.style.height = formatUnit(height - (isYScroll ? 17 : 0));\n        }\n        if (!args.isPreventScrollUpdate) {\n            if (this.parent.uiStateValues.isInitial) {\n                this.parent.uiStateValues.isInitial = false;\n                this.parent.uiStateValues.top = this.parent.uiStateValues.left = 0;\n            }\n            else {\n                if (leftPanelElement) {\n                    leftPanelElement.scrollTop = this.parent.uiStateValues.top;\n                }\n                contentWrapper.scrollTop = this.parent.uiStateValues.top;\n                contentWrapper.scrollLeft = this.parent.uiStateValues.left;\n            }\n        }\n        this.retainScrollPosition();\n    };\n    Year.prototype.getStartDate = function () {\n        return new Date(this.parent.selectedDate.getFullYear(), this.parent.firstMonthOfYear % 12, 1);\n    };\n    Year.prototype.getEndDate = function () {\n        return util.addDays(util.addMonths(this.getStartDate(), this.parent.monthsCount), -1);\n    };\n    Year.prototype.startDate = function () {\n        return this.parent.currentView === 'Year' ? util.getWeekFirstDate(this.getStartDate(), this.parent.firstDayOfWeek) : this.getStartDate();\n    };\n    Year.prototype.endDate = function () {\n        return this.parent.currentView === 'Year' ? util.addDays(util.getWeekLastDate(this.getEndDate(), this.parent.firstDayOfWeek), 1) :\n            util.addDays(this.getEndDate(), 1);\n    };\n    Year.prototype.getEndDateFromStartDate = function (start) {\n        var date = new Date(start.getTime());\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            date = util.lastDateOfMonth(date);\n        }\n        return util.addDays(new Date(date.getTime()), 1);\n    };\n    Year.prototype.getNextPreviousDate = function (type) {\n        return util.addYears(this.parent.selectedDate, ((type === 'next') ? 1 : -1));\n    };\n    Year.prototype.getDateRangeText = function () {\n        var startDate = this.getStartDate();\n        var endDate = this.getEndDate();\n        if (startDate.getFullYear() !== endDate.getFullYear()) {\n            return this.parent.globalize.formatDate(startDate, { skeleton: 'yMMM' }) + ' - ' + this.parent.globalize.formatDate(endDate, { skeleton: 'yMMM' });\n        }\n        else {\n            return this.parent.globalize.formatDate(this.parent.selectedDate, { skeleton: 'y' });\n        }\n    };\n    Year.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.onScrollUiUpdate, this);\n        this.parent.on(event.dataReady, this.onDataReady, this);\n    };\n    Year.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.onScrollUiUpdate);\n            this.parent.off(event.dataReady, this.onDataReady);\n        }\n    };\n    Year.prototype.onDataReady = function (args) {\n        this.yearEventModule = new YearEvent(this.parent);\n        this.yearEventModule.renderAppointments();\n        this.parent.notify(event.eventsLoaded, args);\n    };\n    Year.prototype.scrollToDate = function (scrollDate) {\n        var date = +new Date(util.resetTime(scrollDate));\n        var element = this.element.querySelector('.' + cls.WORK_CELLS_CLASS + ':not(.' + cls.OTHERMONTH_CLASS + ')[data-date=\"' + date + '\"]');\n        if (element) {\n            element = closest(element, '.e-month-calendar');\n            this.getContentAreaElement().scrollTop = element.offsetTop;\n        }\n    };\n    Year.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            var contentScroll = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n            if (contentScroll) {\n                EventHandler.remove(contentScroll, 'scroll', this.onContentScroll);\n            }\n            if (this.yearEventModule) {\n                this.yearEventModule.destroy();\n                this.yearEventModule = null;\n            }\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return Year;\n}(ViewBase));\nexport { Year };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}